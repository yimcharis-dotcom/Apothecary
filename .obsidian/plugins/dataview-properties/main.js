/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin: undefined
*/
"use strict";var zl=Object.create;var Fn=Object.defineProperty;var ql=Object.getOwnPropertyDescriptor;var Yl=Object.getOwnPropertyNames;var Gl=Object.getPrototypeOf,Jl=Object.prototype.hasOwnProperty;var Kl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ql=(t,e)=>{for(var r in e)Fn(t,r,{get:e[r],enumerable:!0})},pa=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Yl(e))!Jl.call(t,s)&&s!==r&&Fn(t,s,{get:()=>e[s],enumerable:!(n=ql(e,s))||n.enumerable});return t};var Da=(t,e,r)=>(r=t!=null?zl(Gl(t)):{},pa(e||!t||!t.__esModule?Fn(r,"default",{value:t,enumerable:!0}):r,t)),Xl=t=>pa(Fn({},"__esModule",{value:!0}),t);var Xs=Kl(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});require("obsidian");var st=class extends Error{},Ss=class extends st{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Cs=class extends st{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Os=class extends st{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Ot=class extends st{},bn=class extends st{constructor(e){super(`Invalid unit ${e}`)}},Ee=class extends st{},Je=class extends st{constructor(){super("Zone is an abstract class")}},C="numeric",Pe="short",Oe="long",kn={year:C,month:C,day:C},Ya={year:C,month:Pe,day:C},nc={year:C,month:Pe,day:C,weekday:Pe},Ga={year:C,month:Oe,day:C},Ja={year:C,month:Oe,day:C,weekday:Oe},Ka={hour:C,minute:C},Qa={hour:C,minute:C,second:C},Xa={hour:C,minute:C,second:C,timeZoneName:Pe},eo={hour:C,minute:C,second:C,timeZoneName:Oe},to={hour:C,minute:C,hourCycle:"h23"},ro={hour:C,minute:C,second:C,hourCycle:"h23"},no={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Pe},so={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Oe},io={year:C,month:C,day:C,hour:C,minute:C},ao={year:C,month:C,day:C,hour:C,minute:C,second:C},oo={year:C,month:Pe,day:C,hour:C,minute:C},uo={year:C,month:Pe,day:C,hour:C,minute:C,second:C},sc={year:C,month:Pe,day:C,weekday:Pe,hour:C,minute:C},lo={year:C,month:Oe,day:C,hour:C,minute:C,timeZoneName:Pe},co={year:C,month:Oe,day:C,hour:C,minute:C,second:C,timeZoneName:Pe},fo={year:C,month:Oe,day:C,weekday:Oe,hour:C,minute:C,timeZoneName:Oe},ho={year:C,month:Oe,day:C,weekday:Oe,hour:C,minute:C,second:C,timeZoneName:Oe},It=class{get type(){throw new Je}get name(){throw new Je}get ianaName(){return this.name}get isUniversal(){throw new Je}offsetName(e,r){throw new Je}formatOffset(e,r){throw new Je}offset(e){throw new Je}equals(e){throw new Je}get isValid(){throw new Je}},gs=null,In=class t extends It{static get instance(){return gs===null&&(gs=new t),gs}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return po(e,r,n)}formatOffset(e,r){return Or(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Cn={};function ic(t){return Cn[t]||(Cn[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Cn[t]}var ac={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function oc(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,i,a,o,u,l,d]=n;return[a,s,i,o,u,l,d]}function uc(t,e){let r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){let{type:i,value:a}=r[s],o=ac[i];i==="era"?n[o]=a:W(o)||(n[o]=parseInt(a,10))}return n}var wn={},ht=class t extends It{static create(e){return wn[e]||(wn[e]=new t(e)),wn[e]}static resetCache(){wn={},Cn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return po(e,r,n,this.name)}formatOffset(e,r){return Or(this.offset(e),r)}offset(e){let r=new Date(e);if(isNaN(r))return NaN;let n=ic(this.name),[s,i,a,o,u,l,d]=n.formatToParts?uc(n,r):oc(n,r);o==="BC"&&(s=-Math.abs(s)+1);let D=Vn({year:s,month:i,day:a,hour:u===24?0:u,minute:l,second:d,millisecond:0}),p=+r,y=p%1e3;return p-=y>=0?y:1e3+y,(D-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},ga={};function lc(t,e={}){let r=JSON.stringify([t,e]),n=ga[r];return n||(n=new Intl.ListFormat(t,e),ga[r]=n),n}var bs={};function ks(t,e={}){let r=JSON.stringify([t,e]),n=bs[r];return n||(n=new Intl.DateTimeFormat(t,e),bs[r]=n),n}var Is={};function cc(t,e={}){let r=JSON.stringify([t,e]),n=Is[r];return n||(n=new Intl.NumberFormat(t,e),Is[r]=n),n}var Ms={};function fc(t,e={}){let{base:r,...n}=e,s=JSON.stringify([t,n]),i=Ms[s];return i||(i=new Intl.RelativeTimeFormat(t,e),Ms[s]=i),i}var Sr=null;function dc(){return Sr||(Sr=new Intl.DateTimeFormat().resolvedOptions().locale,Sr)}function hc(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=ks(t).resolvedOptions(),s=t}catch{let u=t.substring(0,r);n=ks(u).resolvedOptions(),s=u}let{numberingSystem:i,calendar:a}=n;return[s,i,a]}}function mc(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function pc(t){let e=[];for(let r=1;r<=12;r++){let n=V.utc(2009,r,1);e.push(t(n))}return e}function Dc(t){let e=[];for(let r=1;r<=7;r++){let n=V.utc(2016,11,13+r);e.push(t(n))}return e}function En(t,e,r,n){let s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function gc(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var Ns=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:s,floor:i,...a}=n;if(!r||Object.keys(a).length>0){let o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=cc(e,o)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):zs(e,3);return ie(r,this.padTo)}}},Ls=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ht.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=ks(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},As=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&mo()&&(this.rtf=fc(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Lc(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},re=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,r,n,s=!1){let i=e||te.defaultLocale,a=i||(s?"en-US":dc()),o=r||te.defaultNumberingSystem,u=n||te.defaultOutputCalendar;return new t(a,o,u,i)}static resetCache(){Sr=null,bs={},Is={},Ms={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n}={}){return t.create(e,r,n)}constructor(e,r,n,s){let[i,a,o]=hc(e);this.locale=i,this.numberingSystem=r||a||null,this.outputCalendar=n||o||null,this.intl=mc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=gc(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return En(this,e,yo,()=>{let n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=pc(i=>this.extract(i,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return En(this,e,Eo,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Dc(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return En(this,void 0,()=>vo,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[V.utc(2016,11,13,9),V.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return En(this,e,xo,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[V.utc(-40,1,1),V.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let s=this.dtFormatter(e,r),i=s.formatToParts(),a=i.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new Ns(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new Ls(e,this.intl,r)}relFormatter(e={}){return new As(this.intl,this.isEnglish(),e)}listFormatter(e={}){return lc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},ys=null,Ne=class t extends It{static get utcInstance(){return ys===null&&(ys=new t(0)),ys}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(Wn(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Or(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Or(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Or(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Rs=class extends It{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function dt(t,e){if(W(t)||t===null)return e;if(t instanceof It)return t;if(yc(t)){let r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?In.instance:r==="utc"||r==="gmt"?Ne.utcInstance:Ne.parseSpecifier(r)||ht.create(t)}else return kt(t)?Ne.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Rs(t)}var ya=()=>Date.now(),Fa="system",wa=null,Ea=null,va=null,xa=60,Ta,te=class{static get now(){return ya}static set now(e){ya=e}static set defaultZone(e){Fa=e}static get defaultZone(){return dt(Fa,In.instance)}static get defaultLocale(){return wa}static set defaultLocale(e){wa=e}static get defaultNumberingSystem(){return Ea}static set defaultNumberingSystem(e){Ea=e}static get defaultOutputCalendar(){return va}static set defaultOutputCalendar(e){va=e}static get twoDigitCutoffYear(){return xa}static set twoDigitCutoffYear(e){xa=e%100}static get throwOnInvalid(){return Ta}static set throwOnInvalid(e){Ta=e}static resetCaches(){re.resetCache(),ht.resetCache()}};function W(t){return typeof t>"u"}function kt(t){return typeof t=="number"}function $n(t){return typeof t=="number"&&t%1===0}function yc(t){return typeof t=="string"}function Fc(t){return Object.prototype.toString.call(t)==="[object Date]"}function mo(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function wc(t){return Array.isArray(t)?t:[t]}function Sa(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{let i=[e(s),s];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function Ec(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nt(t,e,r){return $n(t)&&t>=e&&t<=r}function vc(t,e){return t-e*Math.floor(t/e)}function ie(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function ft(t){if(!(W(t)||t===null||t===""))return parseInt(t,10)}function St(t){if(!(W(t)||t===null||t===""))return parseFloat(t)}function Zs(t){if(!(W(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function zs(t,e,r=!1){let n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function kr(t){return t%4===0&&(t%100!==0||t%400===0)}function Cr(t){return kr(t)?366:365}function Mn(t,e){let r=vc(e-1,12)+1,n=t+(e-r)/12;return r===2?kr(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Vn(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Nn(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,r=t-1,n=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return e===4||n===3?53:52}function Bs(t){return t>99?t:t>te.twoDigitCutoffYear?1900+t:2e3+t}function po(t,e,r,n=null){let s=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);let a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(r,a).formatToParts(s).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function Wn(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Do(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ee(`Invalid unit value ${t}`);return e}function Ln(t,e){let r={};for(let n in t)if(Gt(t,n)){let s=t[n];if(s==null)continue;r[e(n)]=Do(s)}return r}function Or(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${ie(r,2)}:${ie(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${ie(r,2)}${ie(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function _n(t){return Ec(t,["hour","minute","second","millisecond"])}var xc=["January","February","March","April","May","June","July","August","September","October","November","December"],go=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Tc=["J","F","M","A","M","J","J","A","S","O","N","D"];function yo(t){switch(t){case"narrow":return[...Tc];case"short":return[...go];case"long":return[...xc];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Fo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],wo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sc=["M","T","W","T","F","S","S"];function Eo(t){switch(t){case"narrow":return[...Sc];case"short":return[...wo];case"long":return[...Fo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var vo=["AM","PM"],Cc=["Before Christ","Anno Domini"],Oc=["BC","AD"],bc=["B","A"];function xo(t){switch(t){case"narrow":return[...bc];case"short":return[...Oc];case"long":return[...Cc];default:return null}}function kc(t){return vo[t.hour<12?0:1]}function Ic(t,e){return Eo(e)[t.weekday-1]}function Mc(t,e){return yo(e)[t.month-1]}function Nc(t,e){return xo(e)[t.year<0?0:1]}function Lc(t,e,r="always",n=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&i){let h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${s[t][0]}`;case-1:return h?"yesterday":`last ${s[t][0]}`;case 0:return h?"today":`this ${s[t][0]}`}}let a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=s[t],d=n?u?l[1]:l[2]||l[1]:u?s[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function Ca(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Ac={D:kn,DD:Ya,DDD:Ga,DDDD:Ja,t:Ka,tt:Qa,ttt:Xa,tttt:eo,T:to,TT:ro,TTT:no,TTTT:so,f:io,ff:oo,fff:lo,ffff:fo,F:ao,FF:uo,FFF:co,FFFF:ho},Se=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",s=!1,i=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o==="'"?(n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||o===r?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return Ac[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return ie(e,r);let n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,y)=>this.loc.extract(e,p,y),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>n?kc(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,y)=>n?Mc(e,p):i(y?{month:p}:{month:p,day:"numeric"},"month"),l=(p,y)=>n?Ic(e,p):i(y?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),d=p=>{let y=t.macroTokenToFormatOpts(p);return y?this.formatWithSystemDefault(e,y):p},h=p=>n?Nc(e,p):i({era:p},"era"),D=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(p)}};return Ca(t.parseFormat(r),D)}formatDurationFromString(e,r){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=u=>l=>{let d=n(l);return d?this.num(u.get(d),l.length):l},i=t.parseFormat(r),a=i.reduce((u,{literal:l,val:d})=>l?u:u.concat(d),[]),o=e.shiftTo(...a.map(n).filter(u=>u));return Ca(i,s(o))}},Ce=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},To=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Kt(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Qt(...t){return e=>t.reduce(([r,n,s],i)=>{let[a,o,u]=i(e,s);return[{...r,...a},o||n,u]},[{},null,1]).slice(0,2)}function Xt(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let s=r.exec(t);if(s)return n(s)}return[null,null]}function So(...t){return(e,r)=>{let n={},s;for(s=0;s<t.length;s++)n[t[s]]=ft(e[r+s]);return[n,null,r+s]}}var Co=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rc=`(?:${Co.source}?(?:\\[(${To.source})\\])?)?`,qs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Oo=RegExp(`${qs.source}${Rc}`),Ys=RegExp(`(?:T${Oo.source})?`),Bc=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,$c=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vc=/(\d{4})-?(\d{3})/,Wc=So("weekYear","weekNumber","weekDay"),_c=So("year","ordinal"),Pc=/(\d{4})-(\d\d)-(\d\d)/,bo=RegExp(`${qs.source} ?(?:${Co.source}|(${To.source}))?`),Uc=RegExp(`(?: ${bo.source})?`);function qt(t,e,r){let n=t[e];return W(n)?r:ft(n)}function jc(t,e){return[{year:qt(t,e),month:qt(t,e+1,1),day:qt(t,e+2,1)},null,e+3]}function er(t,e){return[{hours:qt(t,e,0),minutes:qt(t,e+1,0),seconds:qt(t,e+2,0),milliseconds:Zs(t[e+3])},null,e+4]}function Ir(t,e){let r=!t[e]&&!t[e+1],n=Wn(t[e+1],t[e+2]),s=r?null:Ne.instance(n);return[{},s,e+3]}function Mr(t,e){let r=t[e]?ht.create(t[e]):null;return[{},r,e+1]}var Hc=RegExp(`^T?${qs.source}$`),Zc=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function zc(t){let[e,r,n,s,i,a,o,u,l]=t,d=e[0]==="-",h=u&&u[0]==="-",D=(p,y=!1)=>p!==void 0&&(y||p&&d)?-p:p;return[{years:D(St(r)),months:D(St(n)),weeks:D(St(s)),days:D(St(i)),hours:D(St(a)),minutes:D(St(o)),seconds:D(St(u),u==="-0"),milliseconds:D(Zs(l),h)}]}var qc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Gs(t,e,r,n,s,i,a){let o={year:e.length===2?Bs(ft(e)):ft(e),month:go.indexOf(r)+1,day:ft(n),hour:ft(s),minute:ft(i)};return a&&(o.second=ft(a)),t&&(o.weekday=t.length>3?Fo.indexOf(t)+1:wo.indexOf(t)+1),o}var Yc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Gc(t){let[,e,r,n,s,i,a,o,u,l,d,h]=t,D=Gs(e,s,n,r,i,a,o),p;return u?p=qc[u]:l?p=0:p=Wn(d,h),[D,new Ne(p)]}function Jc(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Kc=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Qc=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Xc=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Oa(t){let[,e,r,n,s,i,a,o]=t;return[Gs(e,s,n,r,i,a,o),Ne.utcInstance]}function ef(t){let[,e,r,n,s,i,a,o]=t;return[Gs(e,o,r,n,s,i,a),Ne.utcInstance]}var tf=Kt(Bc,Ys),rf=Kt($c,Ys),nf=Kt(Vc,Ys),sf=Kt(Oo),ko=Qt(jc,er,Ir,Mr),af=Qt(Wc,er,Ir,Mr),of=Qt(_c,er,Ir,Mr),uf=Qt(er,Ir,Mr);function lf(t){return Xt(t,[tf,ko],[rf,af],[nf,of],[sf,uf])}function cf(t){return Xt(Jc(t),[Yc,Gc])}function ff(t){return Xt(t,[Kc,Oa],[Qc,Oa],[Xc,ef])}function df(t){return Xt(t,[Zc,zc])}var hf=Qt(er);function mf(t){return Xt(t,[Hc,hf])}var pf=Kt(Pc,Uc),Df=Kt(bo),gf=Qt(er,Ir,Mr);function yf(t){return Xt(t,[pf,ko],[Df,gf])}var ba="Invalid Duration",Io={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Ff={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Io},Ie=146097/400,Ht=146097/4800,wf={years:{quarters:4,months:12,weeks:Ie/7,days:Ie,hours:Ie*24,minutes:Ie*24*60,seconds:Ie*24*60*60,milliseconds:Ie*24*60*60*1e3},quarters:{months:3,weeks:Ie/28,days:Ie/4,hours:Ie*24/4,minutes:Ie*24*60/4,seconds:Ie*24*60*60/4,milliseconds:Ie*24*60*60*1e3/4},months:{weeks:Ht/7,days:Ht,hours:Ht*24,minutes:Ht*24*60,seconds:Ht*24*60*60,milliseconds:Ht*24*60*60*1e3},...Io},bt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ef=bt.slice(0).reverse();function ct(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new M(n)}function Mo(t,e){let r=e.milliseconds??0;for(let n of Ef.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function ka(t,e){let r=Mo(t,e)<0?-1:1;bt.reduceRight((n,s)=>{if(W(e[s]))return n;if(n){let i=e[n]*r,a=t[s][n],o=Math.floor(i/a);e[s]+=o*r,e[n]-=o*a*r}return s},null),bt.reduce((n,s)=>{if(W(e[s]))return n;if(n){let i=e[n]%1;e[n]-=i,e[s]+=i*t[n][s]}return s},null)}function vf(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var M=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?wf:Ff;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||re.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ee(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:Ln(e,t.normalizeUnit),loc:re.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(kt(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new Ee(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=df(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=mf(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ee("need to specify a reason the Duration is invalid");let n=e instanceof Ce?e:new Ce(e,r);if(te.throwOnInvalid)throw new Os(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new bn(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Se.create(this.loc,n).formatDurationFromString(this,e):ba}toHuman(e={}){if(!this.isValid)return ba;let r=bt.map(n=>{let s=this.values[n];return W(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=zs(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},V.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Mo(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let s of bt)(Gt(r.values,s)||Gt(this.values,s))&&(n[s]=r.get(s)+this.get(s));return ct(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=Do(e(this.values[n],n));return ct(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...Ln(e,t.normalizeUnit)};return ct(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return ct(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return ka(this.matrix,e),ct(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=vf(this.normalize().shiftToAll().toObject());return ct(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>t.normalizeUnit(a));let r={},n={},s=this.toObject(),i;for(let a of bt)if(e.indexOf(a)>=0){i=a;let o=0;for(let l in n)o+=this.matrix[l][a]*n[l],n[l]=0;kt(s[a])&&(o+=s[a]);let u=Math.trunc(o);r[a]=u,n[a]=(o*1e3-u*1e3)/1e3}else kt(s[a])&&(n[a]=s[a]);for(let a in n)n[a]!==0&&(r[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return ka(this.matrix,r),ct(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ct(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(let n of bt)if(!r(this.values[n],e.values[n]))return!1;return!0}},Zt="Invalid Interval";function xf(t,e){return!t||!t.isValid?Yt.invalid("missing or invalid start"):!e||!e.isValid?Yt.invalid("missing or invalid end"):e<t?Yt.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var Yt=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ee("need to specify a reason the Interval is invalid");let n=e instanceof Ce?e:new Ce(e,r);if(te.throwOnInvalid)throw new Cs(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=xr(e),s=xr(r),i=xf(n,s);return i??new t({start:n,end:s})}static after(e,r){let n=M.fromDurationLike(r),s=xr(e);return t.fromDateTimes(s,s.plus(n))}static before(e,r){let n=M.fromDurationLike(r),s=xr(e);return t.fromDateTimes(s.minus(n),s)}static fromISO(e,r){let[n,s]=(e||"").split("/",2);if(n&&s){let i,a;try{i=V.fromISO(n,r),a=i.isValid}catch{a=!1}let o,u;try{o=V.fromISO(s,r),u=o.isValid}catch{u=!1}if(a&&u)return t.fromDateTimes(i,o);if(a){let l=M.fromISO(s,r);if(l.isValid)return t.after(i,l)}else if(u){let l=M.fromISO(n,r);if(l.isValid)return t.before(o,l)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let r=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(xr).filter(a=>this.contains(a)).sort(),n=[],{s}=this,i=0;for(;s<this.e;){let a=r[i]||this.e,o=+a>+this.e?this.e:a;n.push(t.fromDateTimes(s,o)),s=o,i+=1}return n}splitBy(e){let r=M.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,i,a=[];for(;n<this.e;){let o=this.start.plus(r.mapUnits(u=>u*s));i=+o>+this.e?this.e:o,a.push(t.fromDateTimes(n,i)),n=i,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[s,i.union(a)]:[s.concat([i]),a]:[s,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,s=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((u,l)=>u.time-l.time);for(let u of o)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&s.push(t.fromDateTimes(r,u.time)),r=null);return t.merge(s)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Zt}toLocaleString(e=kn,r={}){return this.isValid?Se.create(this.s.loc.clone(r),e).formatInterval(this):Zt}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Zt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Zt}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Zt}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Zt}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):M.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}},zt=class{static hasDST(e=te.defaultZone){let r=V.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ht.isValidZone(e)}static normalizeZone(e){return dt(e,te.defaultZone)}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||re.create(r,n,i)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||re.create(r,n,i)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||re.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||re.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return re.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return re.create(r,null,"gregory").eras(e)}static features(){return{relative:mo()}}};function Ia(t,e){let r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(M.fromMillis(n).as("days"))}function Tf(t,e,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let d=Ia(u,l);return(d-d%7)/7}],["days",Ia]],s={},i=t,a,o;for(let[u,l]of n)r.indexOf(u)>=0&&(a=u,s[u]=l(t,e),o=i.plus(s),o>e?(s[u]--,t=i.plus(s),t>e&&(o=t,s[u]--,t=i.plus(s))):t=o);return[t,s,o,a]}function Sf(t,e,r,n){let[s,i,a,o]=Tf(t,e,r),u=e-s,l=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));let d=M.fromObject(i,n);return l.length>0?M.fromMillis(u,n).shiftTo(...l).plus(d):d}var Js={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Ma={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Cf=Js.hanidec.replace(/[\[|\]]/g,"").split("");function Of(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Js.hanidec)!==-1)e+=Cf.indexOf(t[r]);else for(let s in Ma){let[i,a]=Ma[s];n>=i&&n<=a&&(e+=n-i)}}return parseInt(e,10)}else return e}function Ve({numberingSystem:t},e=""){return new RegExp(`${Js[t||"latn"]}${e}`)}var bf="missing Intl.DateTimeFormat.formatToParts support";function H(t,e=r=>r){return{regex:t,deser:([r])=>e(Of(r))}}var kf="\xA0",No=`[ ${kf}]`,Lo=new RegExp(No,"g");function If(t){return t.replace(/\./g,"\\.?").replace(Lo,No)}function Na(t){return t.replace(/\./g,"").replace(Lo," ").toLowerCase()}function We(t,e){return t===null?null:{regex:RegExp(t.map(If).join("|")),deser:([r])=>t.findIndex(n=>Na(r)===Na(n))+e}}function La(t,e){return{regex:t,deser:([,r,n])=>Wn(r,n),groups:e}}function vn(t){return{regex:t,deser:([e])=>e}}function Mf(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Nf(t,e){let r=Ve(e),n=Ve(e,"{2}"),s=Ve(e,"{3}"),i=Ve(e,"{4}"),a=Ve(e,"{6}"),o=Ve(e,"{1,2}"),u=Ve(e,"{1,3}"),l=Ve(e,"{1,6}"),d=Ve(e,"{1,9}"),h=Ve(e,"{2,4}"),D=Ve(e,"{4,6}"),p=A=>({regex:RegExp(Mf(A.val)),deser:([P])=>P,literal:!0}),N=(A=>{if(t.literal)return p(A);switch(A.val){case"G":return We(e.eras("short"),0);case"GG":return We(e.eras("long"),0);case"y":return H(l);case"yy":return H(h,Bs);case"yyyy":return H(i);case"yyyyy":return H(D);case"yyyyyy":return H(a);case"M":return H(o);case"MM":return H(n);case"MMM":return We(e.months("short",!0),1);case"MMMM":return We(e.months("long",!0),1);case"L":return H(o);case"LL":return H(n);case"LLL":return We(e.months("short",!1),1);case"LLLL":return We(e.months("long",!1),1);case"d":return H(o);case"dd":return H(n);case"o":return H(u);case"ooo":return H(s);case"HH":return H(n);case"H":return H(o);case"hh":return H(n);case"h":return H(o);case"mm":return H(n);case"m":return H(o);case"q":return H(o);case"qq":return H(n);case"s":return H(o);case"ss":return H(n);case"S":return H(u);case"SSS":return H(s);case"u":return vn(d);case"uu":return vn(o);case"uuu":return H(r);case"a":return We(e.meridiems(),0);case"kkkk":return H(i);case"kk":return H(h,Bs);case"W":return H(o);case"WW":return H(n);case"E":case"c":return H(r);case"EEE":return We(e.weekdays("short",!1),1);case"EEEE":return We(e.weekdays("long",!1),1);case"ccc":return We(e.weekdays("short",!0),1);case"cccc":return We(e.weekdays("long",!0),1);case"Z":case"ZZ":return La(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return La(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return vn(/[a-z_+-/]{1,256}?/i);case" ":return vn(/[^\S\n\r]/);default:return p(A)}})(t)||{invalidReason:bf};return N.token=t,N}var Lf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Af(t,e,r){let{type:n,value:s}=t;if(n==="literal"){let u=/^\s+$/.test(s);return{literal:!u,val:u?" ":s}}let i=e[n],a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=Lf[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function Rf(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Bf(t,e,r){let n=t.match(e);if(n){let s={},i=1;for(let a in r)if(Gt(r,a)){let o=r[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(i,i+u))),i+=u}return[n,s]}else return[n,{}]}function $f(t){let e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return W(t.z)||(r=ht.create(t.z)),W(t.Z)||(r||(r=new Ne(t.Z)),n=t.Z),W(t.q)||(t.M=(t.q-1)*3+1),W(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),W(t.u)||(t.S=Zs(t.u)),[Object.keys(t).reduce((i,a)=>{let o=e(a);return o&&(i[o]=t[a]),i},{}),r,n]}var Fs=null;function Vf(){return Fs||(Fs=V.fromMillis(1555555555555)),Fs}function Wf(t,e){if(t.literal)return t;let r=Se.macroTokenToFormatOpts(t.val),n=Bo(r,e);return n==null||n.includes(void 0)?t:n}function Ao(t,e){return Array.prototype.concat(...t.map(r=>Wf(r,e)))}function Ro(t,e,r){let n=Ao(Se.parseFormat(r),t),s=n.map(a=>Nf(a,t)),i=s.find(a=>a.invalidReason);if(i)return{input:e,tokens:n,invalidReason:i.invalidReason};{let[a,o]=Rf(s),u=RegExp(a,"i"),[l,d]=Bf(e,u,o),[h,D,p]=d?$f(d):[null,null,void 0];if(Gt(d,"a")&&Gt(d,"H"))throw new Ot("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:l,matches:d,result:h,zone:D,specificOffset:p}}}function _f(t,e,r){let{result:n,zone:s,specificOffset:i,invalidReason:a}=Ro(t,e,r);return[n,s,i,a]}function Bo(t,e){if(!t)return null;let n=Se.create(e,t).dtFormatter(Vf()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(a=>Af(a,t,i))}var $o=[0,31,59,90,120,151,181,212,243,273,304,334],Vo=[0,31,60,91,121,152,182,213,244,274,305,335];function Me(t,e){return new Ce("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Wo(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let s=n.getUTCDay();return s===0?7:s}function _o(t,e,r){return r+(kr(t)?Vo:$o)[e-1]}function Po(t,e){let r=kr(t)?Vo:$o,n=r.findIndex(i=>i<e),s=e-r[n];return{month:n+1,day:s}}function $s(t){let{year:e,month:r,day:n}=t,s=_o(e,r,n),i=Wo(e,r,n),a=Math.floor((s-i+10)/7),o;return a<1?(o=e-1,a=Nn(o)):a>Nn(e)?(o=e+1,a=1):o=e,{weekYear:o,weekNumber:a,weekday:i,..._n(t)}}function Aa(t){let{weekYear:e,weekNumber:r,weekday:n}=t,s=Wo(e,1,4),i=Cr(e),a=r*7+n-s-3,o;a<1?(o=e-1,a+=Cr(o)):a>i?(o=e+1,a-=Cr(e)):o=e;let{month:u,day:l}=Po(o,a);return{year:o,month:u,day:l,..._n(t)}}function ws(t){let{year:e,month:r,day:n}=t,s=_o(e,r,n);return{year:e,ordinal:s,..._n(t)}}function Ra(t){let{year:e,ordinal:r}=t,{month:n,day:s}=Po(e,r);return{year:e,month:n,day:s,..._n(t)}}function Pf(t){let e=$n(t.weekYear),r=nt(t.weekNumber,1,Nn(t.weekYear)),n=nt(t.weekday,1,7);return e?r?n?!1:Me("weekday",t.weekday):Me("week",t.week):Me("weekYear",t.weekYear)}function Uf(t){let e=$n(t.year),r=nt(t.ordinal,1,Cr(t.year));return e?r?!1:Me("ordinal",t.ordinal):Me("year",t.year)}function Uo(t){let e=$n(t.year),r=nt(t.month,1,12),n=nt(t.day,1,Mn(t.year,t.month));return e?r?n?!1:Me("day",t.day):Me("month",t.month):Me("year",t.year)}function jo(t){let{hour:e,minute:r,second:n,millisecond:s}=t,i=nt(e,0,23)||e===24&&r===0&&n===0&&s===0,a=nt(r,0,59),o=nt(n,0,59),u=nt(s,0,999);return i?a?o?u?!1:Me("millisecond",s):Me("second",n):Me("minute",r):Me("hour",e)}var Es="Invalid DateTime",Ba=864e13;function xn(t){return new Ce("unsupported zone",`the zone "${t.name}" is not supported`)}function vs(t){return t.weekData===null&&(t.weekData=$s(t.c)),t.weekData}function Ct(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new V({...r,...e,old:r})}function Ho(t,e,r){let n=t-e*60*1e3,s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;let i=r.offset(n);return s===i?[n,s]:[t-Math.min(s,i)*60*1e3,Math.max(s,i)]}function Tn(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function On(t,e,r){return Ho(Vn(t),e,r)}function $a(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:n,month:s,day:Math.min(t.c.day,Mn(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=M.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Vn(i),[u,l]=Ho(o,r,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function vr(t,e,r,n,s,i){let{setZone:a,zone:o}=r;if(t&&Object.keys(t).length!==0||e){let u=e||o,l=V.fromObject(t,{...r,zone:u,specificOffset:i});return a?l:l.setZone(o)}else return V.invalid(new Ce("unparsable",`the input "${s}" can't be parsed as ${n}`))}function Sn(t,e,r=!0){return t.isValid?Se.create(re.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function xs(t,e){let r=t.c.year>9999||t.c.year<0,n="";return r&&t.c.year>=0&&(n+="+"),n+=ie(t.c.year,r?6:4),e?(n+="-",n+=ie(t.c.month),n+="-",n+=ie(t.c.day)):(n+=ie(t.c.month),n+=ie(t.c.day)),n}function Va(t,e,r,n,s,i){let a=ie(t.c.hour);return e?(a+=":",a+=ie(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=":")):a+=ie(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(a+=ie(t.c.second),(t.c.millisecond!==0||!n)&&(a+=".",a+=ie(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!i?a+="Z":t.o<0?(a+="-",a+=ie(Math.trunc(-t.o/60)),a+=":",a+=ie(Math.trunc(-t.o%60))):(a+="+",a+=ie(Math.trunc(t.o/60)),a+=":",a+=ie(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}var Zo={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zo=["year","month","day","hour","minute","second","millisecond"],Zf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zf=["year","ordinal","hour","minute","second","millisecond"];function Wa(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new bn(t);return e}function _a(t,e){let r=dt(e.zone,te.defaultZone),n=re.fromObject(e),s=te.now(),i,a;if(W(t.year))i=s;else{for(let l of zo)W(t[l])&&(t[l]=Zo[l]);let o=Uo(t)||jo(t);if(o)return V.invalid(o);let u=r.offset(s);[i,a]=On(t,u,r)}return new V({ts:i,zone:r,loc:n,o:a})}function Pa(t,e,r){let n=W(r.round)?!0:r.round,s=(a,o)=>(a=zs(a,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(a,o)),i=a=>r.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(r.unit)return s(i(r.unit),r.unit);for(let a of r.units){let o=i(a);if(Math.abs(o)>=1)return s(o,a)}return s(t>e?-0:0,r.units[r.units.length-1])}function Ua(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var V=class t{constructor(e){let r=e.zone||te.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new Ce("invalid input"):null)||(r.isValid?null:xn(r));this.ts=W(e.ts)?te.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,i]=[e.old.c,e.old.o];else{let o=r.offset(this.ts);s=Tn(this.ts,o),n=Number.isNaN(s.year)?new Ce("invalid input"):null,s=n?null:s,i=n?null:o}this._zone=r,this.loc=e.loc||re.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=Ua(arguments),[n,s,i,a,o,u,l]=r;return _a({year:n,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){let[e,r]=Ua(arguments),[n,s,i,a,o,u,l]=r;return e.zone=Ne.utcInstance,_a({year:n,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,r={}){let n=Fc(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let s=dt(r.zone,te.defaultZone);return s.isValid?new t({ts:n,zone:s,loc:re.fromObject(r)}):t.invalid(xn(s))}static fromMillis(e,r={}){if(kt(e))return e<-Ba||e>Ba?t.invalid("Timestamp out of range"):new t({ts:e,zone:dt(r.zone,te.defaultZone),loc:re.fromObject(r)});throw new Ee(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(kt(e))return new t({ts:e*1e3,zone:dt(r.zone,te.defaultZone),loc:re.fromObject(r)});throw new Ee("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=dt(r.zone,te.defaultZone);if(!n.isValid)return t.invalid(xn(n));let s=te.now(),i=W(r.specificOffset)?n.offset(s):r.specificOffset,a=Ln(e,Wa),o=!W(a.ordinal),u=!W(a.year),l=!W(a.month)||!W(a.day),d=u||l,h=a.weekYear||a.weekNumber,D=re.fromObject(r);if((d||o)&&h)throw new Ot("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Ot("Can't mix ordinal dates with month/day");let p=h||a.weekday&&!d,y,N,A=Tn(s,i);p?(y=Zf,N=jf,A=$s(A)):o?(y=zf,N=Hf,A=ws(A)):(y=zo,N=Zo);let P=!1;for(let L of y){let $=a[L];W($)?P?a[L]=N[L]:a[L]=A[L]:P=!0}let _=p?Pf(a):o?Uf(a):Uo(a),se=_||jo(a);if(se)return t.invalid(se);let w=p?Aa(a):o?Ra(a):a,[I,q]=On(w,i,n),S=new t({ts:I,zone:n,o:q,loc:D});return a.weekday&&d&&e.weekday!==S.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${S.toISO()}`):S}static fromISO(e,r={}){let[n,s]=lf(e);return vr(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,s]=cf(e);return vr(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,s]=ff(e);return vr(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(W(e)||W(r))throw new Ee("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:i=null}=n,a=re.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,u,l,d]=_f(a,e,r);return d?t.invalid(d):vr(o,u,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,s]=yf(e);return vr(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ee("need to specify a reason the DateTime is invalid");let n=e instanceof Ce?e:new Ce(e,r);if(te.throwOnInvalid)throw new Ss(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=Bo(e,re.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return Ao(Se.parseFormat(e),re.fromObject(r)).map(s=>s.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?vs(this).weekYear:NaN}get weekNumber(){return this.isValid?vs(this).weekNumber:NaN}get weekday(){return this.isValid?vs(this).weekday:NaN}get ordinal(){return this.isValid?ws(this.c).ordinal:NaN}get monthShort(){return this.isValid?zt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?zt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?zt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?zt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=Vn(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-s*r),o=this.zone.offset(n-i*r);if(a===o)return[this];let u=n-a*r,l=n-o*r,d=Tn(u,a),h=Tn(l,o);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[Ct(this,{ts:u}),Ct(this,{ts:l})]:[this]}get isInLeapYear(){return kr(this.year)}get daysInMonth(){return Mn(this.year,this.month)}get daysInYear(){return this.isValid?Cr(this.year):NaN}get weeksInWeekYear(){return this.isValid?Nn(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:s}=Se.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(Ne.instance(e),r)}toLocal(){return this.setZone(te.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=dt(e,te.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){let i=e.offset(this.ts),a=this.toObject();[s]=On(a,i,e)}return Ct(this,{ts:s,zone:e})}else return t.invalid(xn(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Ct(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=Ln(e,Wa),n=!W(r.weekYear)||!W(r.weekNumber)||!W(r.weekday),s=!W(r.ordinal),i=!W(r.year),a=!W(r.month)||!W(r.day),o=i||a,u=r.weekYear||r.weekNumber;if((o||s)&&u)throw new Ot("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&s)throw new Ot("Can't mix ordinal dates with month/day");let l;n?l=Aa({...$s(this.c),...r}):W(r.ordinal)?(l={...this.toObject(),...r},W(r.day)&&(l.day=Math.min(Mn(l.year,l.month),l.day))):l=Ra({...ws(this.c),...r});let[d,h]=On(l,this.o,this.zone);return Ct(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;let r=M.fromDurationLike(e);return Ct(this,$a(this,r))}minus(e){if(!this.isValid)return this;let r=M.fromDurationLike(e).negate();return Ct(this,$a(this,r))}startOf(e){if(!this.isValid)return this;let r={},n=M.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks"&&(r.weekday=1),n==="quarters"){let s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,r={}){return this.isValid?Se.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Es}toLocaleString(e=kn,r={}){return this.isValid?Se.create(this.loc.clone(r),e).formatDateTime(this):Es}toLocaleParts(e={}){return this.isValid?Se.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;let a=e==="extended",o=xs(this,a);return o+="T",o+=Va(this,a,r,n,s,i),o}toISODate({format:e="extended"}={}){return this.isValid?xs(this,e==="extended"):null}toISOWeekDate(){return Sn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+Va(this,a==="extended",r,e,n,i):null}toRFC2822(){return Sn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Sn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xs(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),Sn(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Es}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return M.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=wc(r).map(M.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=Sf(o,u,i,s);return a?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?Yt.fromDateTimes(this,e):this}hasSame(e,r){if(!this.isValid)return!1;let n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(r)<=n&&n<=s.endOf(r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),Pa(r,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?Pa(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new Ee("min requires all arguments be DateTimes");return Sa(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new Ee("max requires all arguments be DateTimes");return Sa(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:s=null,numberingSystem:i=null}=n,a=re.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return Ro(a,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static get DATE_SHORT(){return kn}static get DATE_MED(){return Ya}static get DATE_MED_WITH_WEEKDAY(){return nc}static get DATE_FULL(){return Ga}static get DATE_HUGE(){return Ja}static get TIME_SIMPLE(){return Ka}static get TIME_WITH_SECONDS(){return Qa}static get TIME_WITH_SHORT_OFFSET(){return Xa}static get TIME_WITH_LONG_OFFSET(){return eo}static get TIME_24_SIMPLE(){return to}static get TIME_24_WITH_SECONDS(){return ro}static get TIME_24_WITH_SHORT_OFFSET(){return no}static get TIME_24_WITH_LONG_OFFSET(){return so}static get DATETIME_SHORT(){return io}static get DATETIME_SHORT_WITH_SECONDS(){return ao}static get DATETIME_MED(){return oo}static get DATETIME_MED_WITH_SECONDS(){return uo}static get DATETIME_MED_WITH_WEEKDAY(){return sc}static get DATETIME_FULL(){return lo}static get DATETIME_FULL_WITH_SECONDS(){return co}static get DATETIME_HUGE(){return fo}static get DATETIME_HUGE_WITH_SECONDS(){return ho}};function xr(t){if(V.isDateTime(t))return t;if(t&&t.valueOf&&kt(t.valueOf()))return V.fromJSDate(t);if(t&&typeof t=="object")return V.fromObject(t);throw new Ee(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Ks={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},qf={allowHtml:!0};({...Ks,...qf});var Vs=class t{value;successful;constructor(e){this.value=e,this.successful=!0}map(e){return new t(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,r){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Ws=class t{error;successful;constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new t(e(this.error))}bimap(e,r){return this.mapErr(r)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},An;(function(t){function e(i){return new Vs(i)}t.success=e;function r(i){return new Ws(i)}t.failure=r;function n(i,a,o){return i.successful?a.successful?o(i.value,a.value):r(a.error):r(i.error)}t.flatMap2=n;function s(i,a,o){return n(i,a,(u,l)=>e(o(u,l)))}t.map2=s})(An||(An={}));var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn={exports:{}};Rn.exports;(function(t,e){(function(r,n){t.exports=n()})(typeof self<"u"?self:Yf,function(){return(function(r){var n={};function s(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return r[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=n,s.d=function(i,a,o){s.o(i,a)||Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:o})},s.r=function(i){Object.defineProperty(i,"__esModule",{value:!0})},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=0)})([function(r,n,s){function i(c){if(!(this instanceof i))return new i(c);this._=c}var a=i.prototype;function o(c,m){for(var g=0;g<c;g++)m(g)}function u(c,m,g){return(function(F,E){o(E.length,function(v){F(E[v],v,E)})})(function(F,E,v){m=c(m,F,E,v)},g),m}function l(c,m){return u(function(g,F,E,v){return g.concat([c(F,E,v)])},[],m)}function d(c,m){var g={v:0,buf:m};return o(c,function(){var F;g={v:g.v<<1|(F=g.buf,F[0]>>7),buf:(function(E){var v=u(function(x,B,G,ge){return x.concat(G===ge.length-1?Buffer.from([B,0]).readUInt16BE(0):ge.readUInt16BE(G))},[],E);return Buffer.from(l(function(x){return(x<<1&65535)>>8},v))})(g.buf)}}),g}function h(){return typeof Buffer<"u"}function D(){if(!h())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function p(c){D();var m=u(function(v,x){return v+x},0,c);if(m%8!=0)throw new Error("The bits ["+c.join(", ")+"] add up to "+m+" which is not an even number of bytes; the total should be divisible by 8");var g,F=m/8,E=(g=function(v){return v>48},u(function(v,x){return v||(g(x)?x:v)},null,c));if(E)throw new Error(E+" bit range requested exceeds 48 bit (6 byte) Number max.");return new i(function(v,x){var B=F+x;return B>v.length?L(x,F.toString()+" bytes"):S(B,u(function(G,ge){var he=d(ge,G.buf);return{coll:G.coll.concat(he.v),buf:he.buf}},{coll:[],buf:v.slice(x,B)},c).coll)})}function y(c,m){return new i(function(g,F){return D(),F+m>g.length?L(F,m+" bytes for "+c):S(F+m,g.slice(F,F+m))})}function N(c,m){if(typeof(g=m)!="number"||Math.floor(g)!==g||m<0||m>6)throw new Error(c+" requires integer length in range [0, 6].");var g}function A(c){return N("uintBE",c),y("uintBE("+c+")",c).map(function(m){return m.readUIntBE(0,c)})}function P(c){return N("uintLE",c),y("uintLE("+c+")",c).map(function(m){return m.readUIntLE(0,c)})}function _(c){return N("intBE",c),y("intBE("+c+")",c).map(function(m){return m.readIntBE(0,c)})}function se(c){return N("intLE",c),y("intLE("+c+")",c).map(function(m){return m.readIntLE(0,c)})}function w(c){return c instanceof i}function I(c){return{}.toString.call(c)==="[object Array]"}function q(c){return h()&&Buffer.isBuffer(c)}function S(c,m){return{status:!0,index:c,value:m,furthest:-1,expected:[]}}function L(c,m){return I(m)||(m=[m]),{status:!1,index:-1,value:null,furthest:c,expected:m}}function $(c,m){if(!m||c.furthest>m.furthest)return c;var g=c.furthest===m.furthest?(function(F,E){if((function(){if(i._supportsSet!==void 0)return i._supportsSet;var rt=typeof Set<"u";return i._supportsSet=rt,rt})()&&Array.from){for(var v=new Set(F),x=0;x<E.length;x++)v.add(E[x]);var B=Array.from(v);return B.sort(),B}for(var G={},ge=0;ge<F.length;ge++)G[F[ge]]=!0;for(var he=0;he<E.length;he++)G[E[he]]=!0;var tt=[];for(var Te in G)({}).hasOwnProperty.call(G,Te)&&tt.push(Te);return tt.sort(),tt})(c.expected,m.expected):m.expected;return{status:c.status,index:c.index,value:c.value,furthest:m.furthest,expected:g}}var Y={};function Xe(c,m){if(q(c))return{offset:m,line:-1,column:-1};c in Y||(Y[c]={});for(var g=Y[c],F=0,E=0,v=0,x=m;x>=0;){if(x in g){F=g[x].line,v===0&&(v=g[x].lineStart);break}(c.charAt(x)===`
`||c.charAt(x)==="\r"&&c.charAt(x+1)!==`
`)&&(E++,v===0&&(v=x+1)),x--}var B=F+E,G=m-v;return g[m]={line:B,lineStart:v},{offset:m,line:B+1,column:G+1}}function Be(c){if(!w(c))throw new Error("not a parser: "+c)}function ue(c,m){return typeof c=="string"?c.charAt(m):c[m]}function X(c){if(typeof c!="number")throw new Error("not a number: "+c)}function Fe(c){if(typeof c!="function")throw new Error("not a function: "+c)}function ae(c){if(typeof c!="string")throw new Error("not a string: "+c)}var we=2,$e=3,me=8,wt=5*me,J=4*me,pe="  ";function Ge(c,m){return new Array(m+1).join(c)}function Et(c,m,g){var F=m-c.length;return F<=0?c:Ge(g,F)+c}function ia(c,m,g,F){return{from:c-m>0?c-m:0,to:c+g>F?F:c+g}}function Rl(c,m){var g,F,E,v,x,B=m.index,G=B.offset,ge=1;if(G===c.length)return"Got the end of the input";if(q(c)){var he=G-G%me,tt=G-he,Te=ia(he,wt,J+me,c.length),rt=l(function(oe){return l(function(_t){return Et(_t.toString(16),2,"0")},oe)},(function(oe,_t){var Pt=oe.length,Tt=[],Ut=0;if(Pt<=_t)return[oe.slice()];for(var jt=0;jt<Pt;jt++)Tt[Ut]||Tt.push([]),Tt[Ut].push(oe[jt]),(jt+1)%_t==0&&Ut++;return Tt})(c.slice(Te.from,Te.to).toJSON().data,me));v=(function(oe){return oe.from===0&&oe.to===1?{from:oe.from,to:oe.to}:{from:oe.from/me,to:Math.floor(oe.to/me)}})(Te),F=he/me,g=3*tt,tt>=4&&(g+=1),ge=2,E=l(function(oe){return oe.length<=4?oe.join(" "):oe.slice(0,4).join(" ")+"  "+oe.slice(4).join(" ")},rt),(x=(8*(v.to>0?v.to-1:v.to)).toString(16).length)<2&&(x=2)}else{var Wt=c.split(/\r\n|[\n\r\u2028\u2029]/);g=B.column-1,F=B.line-1,v=ia(F,we,$e,Wt.length),E=Wt.slice(v.from,v.to),x=v.to.toString().length}var Zl=F-v.from;return q(c)&&(x=(8*(v.to>0?v.to-1:v.to)).toString(16).length)<2&&(x=2),u(function(oe,_t,Pt){var Tt,Ut=Pt===Zl,jt=Ut?"> ":pe;return Tt=q(c)?Et((8*(v.from+Pt)).toString(16),x,"0"):Et((v.from+Pt+1).toString(),x," "),[].concat(oe,[jt+Tt+" | "+_t],Ut?[pe+Ge(" ",x)+" | "+Et("",g," ")+Ge("^",ge)]:[])},[],E).join(`
`)}function aa(c,m){return[`
`,"-- PARSING FAILED "+Ge("-",50),`

`,Rl(c,m),`

`,(g=m.expected,g.length===1?`Expected:

`+g[0]:`Expected one of the following: 

`+g.join(", ")),`
`].join("");var g}function oa(c){return c.flags!==void 0?c.flags:[c.global?"g":"",c.ignoreCase?"i":"",c.multiline?"m":"",c.unicode?"u":"",c.sticky?"y":""].join("")}function mn(){for(var c=[].slice.call(arguments),m=c.length,g=0;g<m;g+=1)Be(c[g]);return i(function(F,E){for(var v,x=new Array(m),B=0;B<m;B+=1){if(!(v=$(c[B]._(F,E),v)).status)return v;x[B]=v.value,E=v.index}return $(S(E,x),v)})}function vt(){var c=[].slice.call(arguments);if(c.length===0)throw new Error("seqMap needs at least one argument");var m=c.pop();return Fe(m),mn.apply(null,c).map(function(g){return m.apply(null,g)})}function pn(){var c=[].slice.call(arguments),m=c.length;if(m===0)return Dn("zero alternates");for(var g=0;g<m;g+=1)Be(c[g]);return i(function(F,E){for(var v,x=0;x<c.length;x+=1)if((v=$(c[x]._(F,E),v)).status)return v;return v})}function ua(c,m){return ms(c,m).or(xt([]))}function ms(c,m){return Be(c),Be(m),vt(c,m.then(c).many(),function(g,F){return[g].concat(F)})}function wr(c){ae(c);var m="'"+c+"'";return i(function(g,F){var E=F+c.length,v=g.slice(F,E);return v===c?S(E,v):L(F,m)})}function et(c,m){(function(E){if(!(E instanceof RegExp))throw new Error("not a regexp: "+E);for(var v=oa(E),x=0;x<v.length;x++){var B=v.charAt(x);if(B!=="i"&&B!=="m"&&B!=="u"&&B!=="s")throw new Error('unsupported regexp flag "'+B+'": '+E)}})(c),arguments.length>=2?X(m):m=0;var g=(function(E){return RegExp("^(?:"+E.source+")",oa(E))})(c),F=""+c;return i(function(E,v){var x=g.exec(E.slice(v));if(x){if(0<=m&&m<=x.length){var B=x[0],G=x[m];return S(v+B.length,G)}return L(v,"valid match group (0 to "+x.length+") in "+F)}return L(v,F)})}function xt(c){return i(function(m,g){return S(g,c)})}function Dn(c){return i(function(m,g){return L(g,c)})}function gn(c){if(w(c))return i(function(m,g){var F=c._(m,g);return F.index=g,F.value="",F});if(typeof c=="string")return gn(wr(c));if(c instanceof RegExp)return gn(et(c));throw new Error("not a string, regexp, or parser: "+c)}function la(c){return Be(c),i(function(m,g){var F=c._(m,g),E=m.slice(g,F.index);return F.status?L(g,'not "'+E+'"'):S(g,null)})}function yn(c){return Fe(c),i(function(m,g){var F=ue(m,g);return g<m.length&&c(F)?S(g+1,F):L(g,"a character/byte matching "+c)})}function ca(c,m){arguments.length<2&&(m=c,c=void 0);var g=i(function(F,E){return g._=m()._,g._(F,E)});return c?g.desc(c):g}function ps(){return Dn("fantasy-land/empty")}a.parse=function(c){if(typeof c!="string"&&!q(c))throw new Error(".parse must be called with a string or Buffer as its argument");var m,g=this.skip(Ds)._(c,0);return m=g.status?{status:!0,value:g.value}:{status:!1,index:Xe(c,g.furthest),expected:g.expected},delete Y[c],m},a.tryParse=function(c){var m=this.parse(c);if(m.status)return m.value;var g=aa(c,m),F=new Error(g);throw F.type="ParsimmonError",F.result=m,F},a.assert=function(c,m){return this.chain(function(g){return c(g)?xt(g):Dn(m)})},a.or=function(c){return pn(this,c)},a.trim=function(c){return this.wrap(c,c)},a.wrap=function(c,m){return vt(c,this,m,function(g,F){return F})},a.thru=function(c){return c(this)},a.then=function(c){return Be(c),mn(this,c).map(function(m){return m[1]})},a.many=function(){var c=this;return i(function(m,g){for(var F=[],E=void 0;;){if(!(E=$(c._(m,g),E)).status)return $(S(g,F),E);if(g===E.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");g=E.index,F.push(E.value)}})},a.tieWith=function(c){return ae(c),this.map(function(m){if((function(E){if(!I(E))throw new Error("not an array: "+E)})(m),m.length){ae(m[0]);for(var g=m[0],F=1;F<m.length;F++)ae(m[F]),g+=c+m[F];return g}return""})},a.tie=function(){return this.tieWith("")},a.times=function(c,m){var g=this;return arguments.length<2&&(m=c),X(c),X(m),i(function(F,E){for(var v=[],x=void 0,B=void 0,G=0;G<c;G+=1){if(B=$(x=g._(F,E),B),!x.status)return B;E=x.index,v.push(x.value)}for(;G<m&&(B=$(x=g._(F,E),B),x.status);G+=1)E=x.index,v.push(x.value);return $(S(E,v),B)})},a.result=function(c){return this.map(function(){return c})},a.atMost=function(c){return this.times(0,c)},a.atLeast=function(c){return vt(this.times(c),this.many(),function(m,g){return m.concat(g)})},a.map=function(c){Fe(c);var m=this;return i(function(g,F){var E=m._(g,F);return E.status?$(S(E.index,c(E.value)),E):E})},a.contramap=function(c){Fe(c);var m=this;return i(function(g,F){var E=m.parse(c(g.slice(F)));return E.status?S(F+g.length,E.value):E})},a.promap=function(c,m){return Fe(c),Fe(m),this.contramap(c).map(m)},a.skip=function(c){return mn(this,c).map(function(m){return m[0]})},a.mark=function(){return vt(Er,this,Er,function(c,m,g){return{start:c,value:m,end:g}})},a.node=function(c){return vt(Er,this,Er,function(m,g,F){return{name:c,value:g,start:m,end:F}})},a.sepBy=function(c){return ua(this,c)},a.sepBy1=function(c){return ms(this,c)},a.lookahead=function(c){return this.skip(gn(c))},a.notFollowedBy=function(c){return this.skip(la(c))},a.desc=function(c){I(c)||(c=[c]);var m=this;return i(function(g,F){var E=m._(g,F);return E.status||(E.expected=c),E})},a.fallback=function(c){return this.or(xt(c))},a.ap=function(c){return vt(c,this,function(m,g){return m(g)})},a.chain=function(c){var m=this;return i(function(g,F){var E=m._(g,F);return E.status?$(c(E.value)._(g,E.index),E):E})},a.concat=a.or,a.empty=ps,a.of=xt,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var Er=i(function(c,m){return S(m,Xe(c,m))}),Bl=i(function(c,m){return m>=c.length?L(m,"any character/byte"):S(m+1,ue(c,m))}),$l=i(function(c,m){return S(c.length,c.slice(m))}),Ds=i(function(c,m){return m<c.length?L(m,"EOF"):S(m,null)}),Vl=et(/[0-9]/).desc("a digit"),Wl=et(/[0-9]*/).desc("optional digits"),_l=et(/[a-z]/i).desc("a letter"),Pl=et(/[a-z]*/i).desc("optional letters"),Ul=et(/\s*/).desc("optional whitespace"),jl=et(/\s+/).desc("whitespace"),fa=wr("\r"),da=wr(`
`),ha=wr(`\r
`),ma=pn(ha,da,fa).desc("newline"),Hl=pn(ma,Ds);i.all=$l,i.alt=pn,i.any=Bl,i.cr=fa,i.createLanguage=function(c){var m={};for(var g in c)({}).hasOwnProperty.call(c,g)&&(function(F){m[F]=ca(function(){return c[F](m)})})(g);return m},i.crlf=ha,i.custom=function(c){return i(c(S,L))},i.digit=Vl,i.digits=Wl,i.empty=ps,i.end=Hl,i.eof=Ds,i.fail=Dn,i.formatError=aa,i.index=Er,i.isParser=w,i.lazy=ca,i.letter=_l,i.letters=Pl,i.lf=da,i.lookahead=gn,i.makeFailure=L,i.makeSuccess=S,i.newline=ma,i.noneOf=function(c){return yn(function(m){return c.indexOf(m)<0}).desc("none of '"+c+"'")},i.notFollowedBy=la,i.of=xt,i.oneOf=function(c){for(var m=c.split(""),g=0;g<m.length;g++)m[g]="'"+m[g]+"'";return yn(function(F){return c.indexOf(F)>=0}).desc(m)},i.optWhitespace=Ul,i.Parser=i,i.range=function(c,m){return yn(function(g){return c<=g&&g<=m}).desc(c+"-"+m)},i.regex=et,i.regexp=et,i.sepBy=ua,i.sepBy1=ms,i.seq=mn,i.seqMap=vt,i.seqObj=function(){for(var c,m={},g=0,F=(c=arguments,Array.prototype.slice.call(c)),E=F.length,v=0;v<E;v+=1){var x=F[v];if(!w(x)){if(I(x)&&x.length===2&&typeof x[0]=="string"&&w(x[1])){var B=x[0];if(Object.prototype.hasOwnProperty.call(m,B))throw new Error("seqObj: duplicate key "+B);m[B]=!0,g++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(g===0)throw new Error("seqObj expects at least one named parser, found zero");return i(function(G,ge){for(var he,tt={},Te=0;Te<E;Te+=1){var rt,Wt;if(I(F[Te])?(rt=F[Te][0],Wt=F[Te][1]):(rt=null,Wt=F[Te]),!(he=$(Wt._(G,ge),he)).status)return he;rt&&(tt[rt]=he.value),ge=he.index}return $(S(ge,tt),he)})},i.string=wr,i.succeed=xt,i.takeWhile=function(c){return Fe(c),i(function(m,g){for(var F=g;F<m.length&&c(ue(m,F));)F++;return S(F,m.slice(g,F))})},i.test=yn,i.whitespace=jl,i["fantasy-land/empty"]=ps,i["fantasy-land/of"]=xt,i.Binary={bitSeq:p,bitSeqObj:function(c){D();var m={},g=0,F=l(function(v){if(I(v)){var x=v;if(x.length!==2)throw new Error("["+x.join(", ")+"] should be length 2, got length "+x.length);if(ae(x[0]),X(x[1]),Object.prototype.hasOwnProperty.call(m,x[0]))throw new Error("duplicate key in bitSeqObj: "+x[0]);return m[x[0]]=!0,g++,x}return X(v),[null,v]},c);if(g<1)throw new Error("bitSeqObj expects at least one named pair, got ["+c.join(", ")+"]");var E=l(function(v){return v[0]},F);return p(l(function(v){return v[1]},F)).map(function(v){return u(function(x,B){return B[0]!==null&&(x[B[0]]=B[1]),x},{},l(function(x,B){return[x,v[B]]},E))})},byte:function(c){if(D(),X(c),c>255)throw new Error("Value specified to byte constructor ("+c+"=0x"+c.toString(16)+") is larger in value than a single byte.");var m=(c>15?"0x":"0x0")+c.toString(16);return i(function(g,F){var E=ue(g,F);return E===c?S(F+1,E):L(F,m)})},buffer:function(c){return y("buffer",c).map(function(m){return Buffer.from(m)})},encodedString:function(c,m){return y("string",m).map(function(g){return g.toString(c)})},uintBE:A,uint8BE:A(1),uint16BE:A(2),uint32BE:A(4),uintLE:P,uint8LE:P(1),uint16LE:P(2),uint32LE:P(4),intBE:_,int8BE:_(1),int16BE:_(2),int32BE:_(4),intLE:se,int8LE:se(1),int16LE:se(2),int32LE:se(4),floatBE:y("floatBE",4).map(function(c){return c.readFloatBE(0)}),floatLE:y("floatLE",4).map(function(c){return c.readFloatLE(0)}),doubleBE:y("doubleBE",8).map(function(c){return c.readDoubleBE(0)}),doubleLE:y("doubleLE",8).map(function(c){return c.readDoubleLE(0)})},r.exports=i}])})})(Rn,Rn.exports);var f=Rn.exports,Qs=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function qo(t){return t==null?t:t.shiftToAll().normalize()}function ja(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}f.alt(f.regex(new RegExp(Qs(),"")),f.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),f.whitespace.map(t=>"-"),f.any.map(t=>"")).many().map(t=>t.join(""));var Gf=f.alt(f.regex(new RegExp(Qs(),"")),f.regex(/[0-9\p{Letter}_-]+/u),f.whitespace.map(t=>" "),f.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function Jf(t){return Gf.tryParse(t)}function Kf(t){return t=qo(t),t=M.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e!=0))),t.toHuman()}le.Values=void 0;(function(t){function e(w,I=Ks,q=!1){let S=r(w);if(!S)return I.renderNullAs;switch(S.type){case"null":return I.renderNullAs;case"string":return S.value;case"number":case"boolean":return""+S.value;case"html":return S.value.outerHTML;case"widget":return S.value.markdown();case"link":return S.value.markdown();case"function":return"<function>";case"array":let L="";return q&&(L+="["),L+=S.value.map($=>e($,I,!0)).join(", "),q&&(L+="]"),L;case"object":return"{ "+Object.entries(S.value).map($=>$[0]+": "+e($[1],I,!0)).join(", ")+" }";case"date":return S.value.second==0&&S.value.hour==0&&S.value.minute==0?S.value.toFormat(I.defaultDateFormat):S.value.toFormat(I.defaultDateTimeFormat);case"duration":return Kf(S.value)}}t.toString=e;function r(w){return D(w)?{type:"null",value:w}:l(w)?{type:"number",value:w}:u(w)?{type:"string",value:w}:y(w)?{type:"boolean",value:w}:h(w)?{type:"duration",value:w}:d(w)?{type:"date",value:w}:A(w)?{type:"widget",value:w}:p(w)?{type:"array",value:w}:N(w)?{type:"link",value:w}:se(w)?{type:"function",value:w}:P(w)?{type:"html",value:w}:_(w)?{type:"object",value:w}:void 0}t.wrapValue=r;function n(w,I){if(_(w)){let q={};for(let[S,L]of Object.entries(w))q[S]=n(L,I);return q}else if(p(w)){let q=[];for(let S of w)q.push(n(S,I));return q}else return I(w)}t.mapLeaves=n;function s(w,I,q){if(w===void 0&&(w=null),I===void 0&&(I=null),w===null&&I===null)return 0;if(w===null)return-1;if(I===null)return 1;let S=r(w),L=r(I);if(S===void 0&&L===void 0)return 0;if(S===void 0)return-1;if(L===void 0)return 1;if(S.type!=L.type)return S.type.localeCompare(L.type);if(S.value===L.value)return 0;switch(S.type){case"string":return S.value.localeCompare(L.value);case"number":return S.value<L.value?-1:S.value==L.value?0:1;case"null":return 0;case"boolean":return S.value==L.value?0:S.value?1:-1;case"link":let $=S.value,Y=L.value,Xe=q??(J=>J),Be=Xe($.path).localeCompare(Xe(Y.path));if(Be!=0)return Be;let ue=$.type.localeCompare(Y.type);return ue!=0?ue:$.subpath&&!Y.subpath?1:!$.subpath&&Y.subpath?-1:!$.subpath&&!Y.subpath?0:($.subpath??"").localeCompare(Y.subpath??"");case"date":return S.value<L.value?-1:S.value.equals(L.value)?0:1;case"duration":return S.value<L.value?-1:S.value.equals(L.value)?0:1;case"array":let X=S.value,Fe=L.value;for(let J=0;J<Math.min(X.length,Fe.length);J++){let pe=s(X[J],Fe[J]);if(pe!=0)return pe}return X.length-Fe.length;case"object":let ae=S.value,we=L.value,$e=Array.from(Object.keys(ae)),me=Array.from(Object.keys(we));$e.sort(),me.sort();let wt=s($e,me);if(wt!=0)return wt;for(let J of $e){let pe=s(ae[J],we[J]);if(pe!=0)return pe}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=s;function i(w){return r(w)?.type}t.typeOf=i;function a(w){let I=r(w);if(!I)return!1;switch(I.type){case"number":return I.value!=0;case"string":return I.value.length>0;case"boolean":return I.value;case"link":return!!I.value.path;case"date":return I.value.toMillis()!=0;case"duration":return I.value.as("seconds")!=0;case"object":return Object.keys(I.value).length>0;case"array":return I.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=a;function o(w){if(w==null)return w;if(t.isArray(w))return[].concat(w.map(I=>o(I)));if(t.isObject(w)){let I={};for(let[q,S]of Object.entries(w))I[q]=o(S);return I}else return w}t.deepCopy=o;function u(w){return typeof w=="string"}t.isString=u;function l(w){return typeof w=="number"}t.isNumber=l;function d(w){return w instanceof V}t.isDate=d;function h(w){return w instanceof M}t.isDuration=h;function D(w){return w==null}t.isNull=D;function p(w){return Array.isArray(w)}t.isArray=p;function y(w){return typeof w=="boolean"}t.isBoolean=y;function N(w){return w instanceof br}t.isLink=N;function A(w){return w instanceof Jt}t.isWidget=A;function P(w){return typeof HTMLElement<"u"?w instanceof HTMLElement:!1}t.isHtml=P;function _(w){return typeof w=="object"&&!P(w)&&!A(w)&&!p(w)&&!h(w)&&!d(w)&&!N(w)&&w!==void 0&&!D(w)}t.isObject=_;function se(w){return typeof w=="function"}t.isFunction=se})(le.Values||(le.Values={}));var Ha;(function(t){function e(s){return le.Values.isObject(s)&&Object.keys(s).length==2&&"key"in s&&"rows"in s}t.isElementGroup=e;function r(s){for(let i of s)if(!e(i))return!1;return!0}t.isGrouping=r;function n(s){if(r(s)){let i=0;for(let a of s)i+=n(a.rows);return i}else return s.length}t.count=n})(Ha||(Ha={}));var br=class t{path;display;subpath;embed;type;static file(e,r=!1,n){return new t({path:e,embed:r,display:n,subpath:void 0,type:"file"})}static infer(e,r=!1,n){if(e.includes("#^")){let s=e.split("#^");return t.block(s[0],s[1],r,n)}else if(e.includes("#")){let s=e.split("#");return t.header(s[0],s[1],r,n)}else return t.file(e,r,n)}static header(e,r,n,s){return new t({path:e,embed:n,display:s,subpath:Jf(r),type:"header"})}static block(e,r,n,s){return new t({path:e,embed:n,display:s,subpath:r,type:"block"})}static fromObject(e){return new t(e)}constructor(e){Object.assign(this,e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new t(Object.assign({},this,{path:e}))}withDisplay(e){return new t(Object.assign({},this,{display:e}))}withHeader(e){return t.header(this.path,e,this.embed,this.display)}toFile(){return t.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new t(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new t(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+ja(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){let e=this.path.replaceAll("|","\\|");return this.type=="header"?e+"#"+this.subpath?.replaceAll("|","\\|"):this.type=="block"?e+"#^"+this.subpath?.replaceAll("|","\\|"):e}fileName(){return ja(this.path).replace(".md","")}},Jt=class{$widget;constructor(e){this.$widget=e}},_s=class extends Jt{key;value;constructor(e,r){super("dataview:list-pair"),this.key=e,this.value=r}markdown(){return`${le.Values.toString(this.key)}: ${le.Values.toString(this.value)}`}},Ps=class extends Jt{url;display;constructor(e,r){super("dataview:external-link"),this.url=e,this.display=r}markdown(){return`[${this.display??this.url}](${this.url})`}},Za;(function(t){function e(a,o){return new _s(a,o)}t.listPair=e;function r(a,o){return new Ps(a,o)}t.externalLink=r;function n(a){return a.$widget==="dataview:list-pair"}t.isListPair=n;function s(a){return a.$widget==="dataview:external-link"}t.isExternalLink=s;function i(a){return n(a)||s(a)}t.isBuiltin=i})(Za||(Za={}));var ee;(function(t){function e(D){return{type:"variable",name:D}}t.variable=e;function r(D){return{type:"literal",value:D}}t.literal=r;function n(D,p,y){return{type:"binaryop",left:D,op:p,right:y}}t.binaryOp=n;function s(D,p){return{type:"index",object:D,index:p}}t.index=s;function i(D){let p=D.split("."),y=t.variable(p[0]);for(let N=1;N<p.length;N++)y=t.index(y,t.literal(p[N]));return y}t.indexVariable=i;function a(D,p){return{type:"lambda",arguments:D,value:p}}t.lambda=a;function o(D,p){return{type:"function",func:D,arguments:p}}t.func=o;function u(D){return{type:"list",values:D}}t.list=u;function l(D){return{type:"object",values:D}}t.object=l;function d(D){return{type:"negated",child:D}}t.negate=d;function h(D){return D=="<="||D=="<"||D==">"||D==">="||D=="!="||D=="="}t.isCompareOp=h,t.NULL=t.literal(null)})(ee||(ee={}));var Ke;(function(t){function e(d){return{type:"tag",tag:d}}t.tag=e;function r(d){return{type:"csv",path:d}}t.csv=r;function n(d){return{type:"folder",folder:d}}t.folder=n;function s(d,h){return{type:"link",file:d,direction:h?"incoming":"outgoing"}}t.link=s;function i(d,h,D){return{type:"binaryop",left:d,op:h,right:D}}t.binaryOp=i;function a(d,h){return{type:"binaryop",left:d,op:"&",right:h}}t.and=a;function o(d,h){return{type:"binaryop",left:d,op:"|",right:h}}t.or=o;function u(d){return{type:"negate",child:d}}t.negate=u;function l(){return{type:"empty"}}t.empty=l})(Ke||(Ke={}));var za=new RegExp(Qs(),""),Us={year:M.fromObject({years:1}),years:M.fromObject({years:1}),yr:M.fromObject({years:1}),yrs:M.fromObject({years:1}),month:M.fromObject({months:1}),months:M.fromObject({months:1}),mo:M.fromObject({months:1}),mos:M.fromObject({months:1}),week:M.fromObject({weeks:1}),weeks:M.fromObject({weeks:1}),wk:M.fromObject({weeks:1}),wks:M.fromObject({weeks:1}),w:M.fromObject({weeks:1}),day:M.fromObject({days:1}),days:M.fromObject({days:1}),d:M.fromObject({days:1}),hour:M.fromObject({hours:1}),hours:M.fromObject({hours:1}),hr:M.fromObject({hours:1}),hrs:M.fromObject({hours:1}),h:M.fromObject({hours:1}),minute:M.fromObject({minutes:1}),minutes:M.fromObject({minutes:1}),min:M.fromObject({minutes:1}),mins:M.fromObject({minutes:1}),m:M.fromObject({minutes:1}),second:M.fromObject({seconds:1}),seconds:M.fromObject({seconds:1}),sec:M.fromObject({seconds:1}),secs:M.fromObject({seconds:1}),s:M.fromObject({seconds:1})},js={now:()=>V.local(),today:()=>V.local().startOf("day"),yesterday:()=>V.local().startOf("day").minus(M.fromObject({days:1})),tomorrow:()=>V.local().startOf("day").plus(M.fromObject({days:1})),sow:()=>V.local().startOf("week"),"start-of-week":()=>V.local().startOf("week"),eow:()=>V.local().endOf("week"),"end-of-week":()=>V.local().endOf("week"),soy:()=>V.local().startOf("year"),"start-of-year":()=>V.local().startOf("year"),eoy:()=>V.local().endOf("year"),"end-of-year":()=>V.local().endOf("year"),som:()=>V.local().startOf("month"),"start-of-month":()=>V.local().startOf("month"),eom:()=>V.local().endOf("month"),"end-of-month":()=>V.local().endOf("month")},Hs=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function Qf(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function Xf(t){let[e,r]=Qf(t);return br.infer(e,!1,r)}function Tr(t,e,r){return f.seqMap(t,f.seq(f.optWhitespace,e,f.optWhitespace,t).many(),(n,s)=>{if(s.length==0)return n;let i=r(n,s[0][1],s[0][3]);for(let a=1;a<s.length;a++)i=r(i,s[a][1],s[a][3]);return i})}function ed(t,...e){return f.custom((r,n)=>(s,i)=>{let a=t._(s,i);if(!a.status)return a;for(let o of e){let u=o(a.value)._(s,a.index);if(!u.status)return a;a=u}return a})}var _e=f.createLanguage({number:t=>f.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>f.string('"').then(f.alt(t.escapeCharacter,f.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(f.string('"')).desc("string"),escapeCharacter:t=>f.string("\\").then(f.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>f.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>f.seqMap(f.string("#"),f.alt(f.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,r)=>e+r.join("")).desc("tag ('#hello/stuff')"),identifier:t=>f.seqMap(f.alt(f.regexp(/\p{Letter}/u),f.regexp(za).desc("text")),f.alt(f.regexp(/[0-9\p{Letter}_-]/u),f.regexp(za).desc("text")).many(),(e,r)=>e+r.join("")).desc("variable identifier"),link:t=>f.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>Xf(e)).desc("file link"),embedLink:t=>f.seqMap(f.string("!").atMost(1),t.link,(e,r)=>(e.length>0&&(r.embed=!0),r)).desc("file link"),binaryPlusMinus:t=>f.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>f.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>f.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>f.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>f.seqMap(f.regexp(/\d{4}/),f.string("-"),f.regexp(/\d{2}/),(e,r,n)=>V.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>f.alt(...Object.keys(js).sort((e,r)=>r.length-e.length).map(f.string)),date:t=>ed(t.rootDate,e=>f.seqMap(f.string("-"),f.regexp(/\d{2}/),(r,n)=>e.set({day:Number.parseInt(n)})),e=>f.seqMap(f.string("T"),f.regexp(/\d{2}/),(r,n)=>e.set({hour:Number.parseInt(n)})),e=>f.seqMap(f.string(":"),f.regexp(/\d{2}/),(r,n)=>e.set({minute:Number.parseInt(n)})),e=>f.seqMap(f.string(":"),f.regexp(/\d{2}/),(r,n)=>e.set({second:Number.parseInt(n)})),e=>f.alt(f.seqMap(f.string("."),f.regexp(/\d{3}/),(r,n)=>e.set({millisecond:Number.parseInt(n)})),f.succeed(e)),e=>f.alt(f.seqMap(f.string("+").or(f.string("-")),f.regexp(/\d{1,2}(:\d{2})?/),(r,n)=>e.setZone("UTC"+r+n,{keepLocalTime:!0})),f.seqMap(f.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),f.seqMap(f.string("["),f.regexp(/[0-9A-Za-z+-\/]+/u),f.string("]"),(r,n,s)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>f.alt(t.dateShorthand.map(e=>js[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>f.alt(...Object.keys(Us).sort((e,r)=>r.length-e.length).map(f.string)),duration:t=>f.seqMap(t.number,f.optWhitespace,t.durationType,(e,r,n)=>Us[n].mapUnits(s=>s*e)).sepBy1(f.string(",").trim(f.optWhitespace).or(f.optWhitespace)).map(e=>e.reduce((r,n)=>r.plus(n))).desc("duration like 4hr2min"),rawNull:t=>f.string("null"),tagSource:t=>t.tag.map(e=>Ke.tag(e)),csvSource:t=>f.seqMap(f.string("csv(").skip(f.optWhitespace),t.string,f.string(")"),(e,r,n)=>Ke.csv(r)),linkIncomingSource:t=>t.link.map(e=>Ke.link(e.path,!0)),linkOutgoingSource:t=>f.seqMap(f.string("outgoing(").skip(f.optWhitespace),t.link,f.string(")"),(e,r,n)=>Ke.link(r.path,!1)),folderSource:t=>t.string.map(e=>Ke.folder(e)),parensSource:t=>f.seqMap(f.string("("),f.optWhitespace,t.source,f.optWhitespace,f.string(")"),(e,r,n,s,i)=>n),negateSource:t=>f.seqMap(f.alt(f.string("-"),f.string("!")),t.atomSource,(e,r)=>Ke.negate(r)),atomSource:t=>f.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>Tr(t.atomSource,t.binaryBooleanOp.map(e=>e),Ke.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>Hs.includes(e.toUpperCase())?f.fail("Variable fields cannot be a keyword ("+Hs.join(" or ")+")"):f.succeed(ee.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>ee.literal(e)).desc("number"),stringField:t=>t.string.map(e=>ee.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>ee.literal(e)).desc("boolean"),dateField:t=>f.seqMap(f.string("date("),f.optWhitespace,t.datePlus,f.optWhitespace,f.string(")"),(e,r,n,s,i)=>ee.literal(n)).desc("date"),durationField:t=>f.seqMap(f.string("dur("),f.optWhitespace,t.duration,f.optWhitespace,f.string(")"),(e,r,n,s,i)=>ee.literal(n)).desc("duration"),nullField:t=>t.rawNull.map(e=>ee.NULL),linkField:t=>t.link.map(e=>ee.literal(e)),listField:t=>t.field.sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("[").skip(f.optWhitespace),f.optWhitespace.then(f.string("]"))).map(e=>ee.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>f.seqMap(t.identifier.or(t.string),f.string(":").trim(f.optWhitespace),t.field,(e,r,n)=>({name:e,value:n})).sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("{").skip(f.optWhitespace),f.optWhitespace.then(f.string("}"))).map(e=>{let r={};for(let n of e)r[n.name]=n.value;return ee.object(r)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>f.alt(t.date,t.duration.map(e=>qo(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(f.string(",").trim(f.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>f.alt(f.seqMap(t.atomInlineField,f.string(",").trim(f.optWhitespace),t.inlineFieldList,(e,r,n)=>[e].concat(n)),t.atomInlineField),atomField:t=>f.alt(t.embedLink.map(e=>ee.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>f.seqMap(t.atomField,f.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,r)=>{let n=e;for(let s of r)switch(s.type){case"dot":n=ee.index(n,ee.literal(s.field));break;case"index":n=ee.index(n,s.field);break;case"function":n=ee.func(n,s.fields);break}return n}),negatedField:t=>f.seqMap(f.string("!"),t.indexField,(e,r)=>ee.negate(r)).desc("negated field"),parensField:t=>f.seqMap(f.string("("),f.optWhitespace,t.field,f.optWhitespace,f.string(")"),(e,r,n,s,i)=>n),lambdaField:t=>f.seqMap(t.identifier.sepBy(f.string(",").trim(f.optWhitespace)).wrap(f.string("(").trim(f.optWhitespace),f.string(")").trim(f.optWhitespace)),f.string("=>").trim(f.optWhitespace),t.field,(e,r,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:t=>f.seqMap(f.string("."),t.identifier,(e,r)=>({type:"dot",field:r})),indexPostfix:t=>f.seqMap(f.string("["),f.optWhitespace,t.field,f.optWhitespace,f.string("]"),(e,r,n,s,i)=>({type:"index",field:n})),functionPostfix:t=>f.seqMap(f.string("("),f.optWhitespace,t.field.sepBy(f.string(",").trim(f.optWhitespace)),f.optWhitespace,f.string(")"),(e,r,n,s,i)=>({type:"function",fields:n})),binaryMulDivField:t=>Tr(t.indexField,t.binaryMulDiv,ee.binaryOp),binaryPlusMinusField:t=>Tr(t.binaryMulDivField,t.binaryPlusMinus,ee.binaryOp),binaryCompareField:t=>Tr(t.binaryPlusMinusField,t.binaryCompareOp,ee.binaryOp),binaryBooleanField:t=>Tr(t.binaryCompareField,t.binaryBooleanOp,ee.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function td(t){try{return An.success(_e.field.tryParse(t))}catch(e){return An.failure(""+e)}}var Bn;(function(t){function e(n,s){return{name:n,field:s}}t.named=e;function r(n,s){return{field:n,direction:s}}t.sortBy=r})(Bn||(Bn={}));function rd(t){return f.custom((e,r)=>(n,s)=>{let i=t._(n,s);return i.status?Object.assign({},i,{value:[i.value,n.substring(s,i.index)]}):i})}function nd(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}function qa(t,e){return f.eof.map(t).or(f.whitespace.then(e))}var Yo=f.createLanguage({queryType:t=>f.alt(f.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>f.seqMap(_e.field.skip(f.whitespace),f.regexp(/AS/i).skip(f.whitespace),_e.identifier.or(_e.string),(e,r,n)=>Bn.named(n,e)),comment:()=>f.Parser((t,e)=>{let r=t.substring(e);if(!r.startsWith("//"))return f.makeFailure(e,"Not a comment");r=r.split(`
`)[0];let n=r.substring(2).trim();return f.makeSuccess(e+r.length,n)}),namedField:t=>f.alt(t.explicitNamedField,rd(_e.field).map(([e,r])=>Bn.named(nd(r),e))),sortField:t=>f.seqMap(_e.field.skip(f.optWhitespace),f.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,r)=>{let n=r.length==0?"ascending":r[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:t=>t.queryType.chain(e=>{switch(e){case"table":return qa(()=>({type:e,fields:[],showId:!0}),f.seqMap(f.regexp(/WITHOUT\s+ID/i).skip(f.optWhitespace).atMost(1),f.sepBy(t.namedField,f.string(",").trim(f.optWhitespace)),(r,n)=>({type:e,fields:n,showId:r.length==0})));case"list":return qa(()=>({type:e,format:void 0,showId:!0}),f.seqMap(f.regexp(/WITHOUT\s+ID/i).skip(f.optWhitespace).atMost(1),_e.field.atMost(1),(r,n)=>({type:e,format:n.length==1?n[0]:void 0,showId:r.length==0})));case"task":return f.succeed({type:e});case"calendar":return f.whitespace.then(f.seqMap(t.namedField,r=>({type:e,showId:!0,field:r})));default:return f.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>f.seqMap(f.regexp(/FROM/i),f.whitespace,_e.source,(e,r,n)=>n),whereClause:t=>f.seqMap(f.regexp(/WHERE/i),f.whitespace,_e.field,(e,r,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:t=>f.seqMap(f.regexp(/SORT/i),f.whitespace,t.sortField.sepBy1(f.string(",").trim(f.optWhitespace)),(e,r,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:t=>f.seqMap(f.regexp(/LIMIT/i),f.whitespace,_e.field,(e,r,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:t=>f.seqMap(f.regexp(/FLATTEN/i).skip(f.whitespace),t.namedField,(e,r)=>({type:"flatten",field:r})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>f.seqMap(f.regexp(/GROUP BY/i).skip(f.whitespace),t.namedField,(e,r)=>({type:"group",field:r})).desc("GROUP BY <value> [AS <name>]"),clause:t=>f.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>f.seqMap(t.headerClause.trim(Ts),t.fromClause.trim(Ts).atMost(1),t.clause.trim(Ts).many(),(e,r,n)=>({header:e,source:r.length==0?Ke.folder(""):r[0],operations:n,settings:Ks}))}),Ts=f.alt(f.whitespace,Yo.comment).many().map(t=>t.join("")),sd=t=>t?t.plugins.plugins.dataview?.api:window.DataviewAPI,id=t=>t.plugins.enabledPlugins.has("dataview");le.DATE_SHORTHANDS=js;le.DURATION_TYPES=Us;le.EXPRESSION=_e;le.KEYWORDS=Hs;le.Link=br;le.QUERY_LANGUAGE=Yo;le.Widget=Jt;le.getAPI=sd;le.isPluginEnabled=id;le.parseField=td});var nm={};Ql(nm,{default:()=>hs});module.exports=Xl(nm);var xe=require("obsidian");var ec=Object.getOwnPropertyNames,tc=(t,e)=>function(){return e||(0,t[ec(t)[0]])((e={exports:{}}).exports,e),e.exports},rc=tc({"src/index.ts"(){String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/\p{Diacritic}/gu,"")},String.prototype.trimAll=function(){return this.replaceAll(/\s+/g,"").trim()},String.prototype.standardize=function(t){return t?this.removeAccents().toLowerCase().trim():this.removeAccents().toLowerCase()},String.prototype.toTitle=function(t){let e=t?this.toLowerCase():this;return e.charAt(0).toUpperCase()+e.slice(1)},String.prototype.capitalize=function(t){return(t?this.toLowerCase():this).replace(/(^\p{L}{1})|(\s+\p{L}{1})|(-\p{L}{1})/gu,r=>r.toUpperCase())},String.prototype.subText=function(t,e){return t==null?!1:e?this.standardize()===t.standardize():this.standardize().includes(t.standardize())},String.prototype.unidecode=function(t){let e=/([\u{1F1E6}-\u{1F1FF}]|[\u{1F300}-\u{1F5FF}]|[\u{1F600}-\u{1F64F}]|[\u{1F680}-\u{1F6FF}]|[\u{1F700}-\u{1F77F}]|[\u{1F780}-\u{1F7FF}]|[\u{1F800}-\u{1F8FF}]|[\u{1F900}-\u{1F9FF}]|[\u{1FA00}-\u{1FAFF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|\u200D|\uFE0F)/gu,r=this.replace(e,"").trim();return t?r:r.standardize()},String.prototype.removeBacktick=function(){return this.replace(/`/g,"")},String.prototype.decode=function(t,e){let r=this.replace(/[^\p{L}\p{N}\p{Zs}\p{Emoji}_-]/gu,"");return t||(r=r.trim()),e?r.standardize():r}}}),im=rc();var Al=Da(Xs());var R=t=>typeof t=="string",Nr=()=>{let t,e,r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},Go=t=>t==null?"":""+t,ad=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},od=/###/g,Jo=t=>t&&t.indexOf("###")>-1?t.replace(od,"."):t,Ko=t=>!t||R(t),Lr=(t,e,r)=>{let n=R(e)?e.split("."):e,s=0;for(;s<n.length-1;){if(Ko(t))return{};let i=Jo(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Ko(t)?{}:{obj:t,k:Jo(n[s])}},Qo=(t,e,r)=>{let{obj:n,k:s}=Lr(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Lr(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Lr(t,a,Object),o?.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=r},ud=(t,e,r,n)=>{let{obj:s,k:i}=Lr(t,e,Object);s[i]=s[i]||[],s[i].push(r)},Un=(t,e)=>{let{obj:r,k:n}=Lr(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},ld=(t,e,r)=>{let n=Un(t,r);return n!==void 0?n:Un(e,r)},au=(t,e,r)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?R(t[n])||t[n]instanceof String||R(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):au(t[n],e[n],r):t[n]=e[n]);return t},tr=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),cd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},fd=t=>R(t)?t.replace(/[&<>"'\/]/g,e=>cd[e]):t,ri=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let r=this.regExpMap.get(e);if(r!==void 0)return r;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},dd=[" ",",","?","!",";"],hd=new ri(20),md=(t,e,r)=>{e=e||"",r=r||"";let n=dd.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;let s=hd.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`),i=!s.test(t);if(!i){let a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},ni=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let n=e.split(r),s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,o="";for(let u=i;u<n.length;++u)if(u!==i&&(o+=r),o+=n[u],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<n.length-1)continue;i+=u-i+1;break}s=a}return s},Ar=t=>t?.replace("_","-"),pd={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},si=class t{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||pd,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(R(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Qe=new si,rr=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}},jn=class extends rr{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){let i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):R(n)&&i?o.push(...n.split(i)):o.push(n)));let u=Un(this.data,o);return!u&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),u||!a||!R(n)?u:ni(this.data?.[e]?.[r],n,i)}addResource(e,r,n,s,i={silent:!1}){let a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),s=r,r=o[1]),this.addNamespaces(r),Qo(this.data,o,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(let i in n)(R(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),s=n,n=r,r=o[1]),this.addNamespaces(r);let u=Un(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?au(u,n,i):u={...u,...n},Qo(this.data,o,u),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}},ou={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{e=this.processors[i]?.process(e,r,n,s)??e}),e}},uu=Symbol("i18next/PATH_KEY");function Dd(){let t=[],e=Object.create(null),r;return e.get=(n,s)=>(r?.revoke?.(),s===uu?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function ii(t,e){let{[uu]:r}=t(Dd());return r.join(e?.keySeparator??".")}var Xo={},ei=t=>!R(t)&&typeof t!="boolean"&&typeof t!="number",Hn=class t extends rr{constructor(e,r={}){super(),ad(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){let n={...r};if(e==null)return!1;let s=this.resolve(e,n);if(s?.res===void 0)return!1;let i=ei(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!md(e,n,s);if(a&&!o){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:R(i)?[i]:i};let l=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(s)}return{key:e,namespaces:R(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=ii(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);let i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],s),l=u[u.length-1],d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");let h=s.lng||this.language,D=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return D?i?{res:`${l}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:o;let p=this.resolve(e,s),y=p?.res,N=p?.usedKey||o,A=p?.exactUsedKey||o,P=["[object Number]","[object Function]","[object RegExp]"],_=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,se=!this.i18nFormat||this.i18nFormat.handleAsObject,w=s.count!==void 0&&!R(s.count),I=t.hasDefaultValue(s),q=w?this.pluralResolver.getSuffix(h,s.count,s):"",S=s.ordinal&&w?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",L=w&&!s.ordinal&&s.count===0,$=L&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${q}`]||s[`defaultValue${S}`]||s.defaultValue,Y=y;se&&!y&&I&&(Y=$);let Xe=ei(Y),Be=Object.prototype.toString.apply(Y);if(se&&Y&&Xe&&P.indexOf(Be)<0&&!(R(_)&&Array.isArray(Y))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let ue=this.options.returnedObjectHandler?this.options.returnedObjectHandler(N,Y,{...s,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=ue,p.usedParams=this.getUsedParamsDetails(s),p):ue}if(a){let ue=Array.isArray(Y),X=ue?[]:{},Fe=ue?A:N;for(let ae in Y)if(Object.prototype.hasOwnProperty.call(Y,ae)){let we=`${Fe}${a}${ae}`;I&&!y?X[ae]=this.translate(we,{...s,defaultValue:ei($)?$[ae]:void 0,joinArrays:!1,ns:u}):X[ae]=this.translate(we,{...s,joinArrays:!1,ns:u}),X[ae]===we&&(X[ae]=Y[ae])}y=X}}else if(se&&R(_)&&Array.isArray(y))y=y.join(_),y&&(y=this.extendTranslation(y,e,s,n));else{let ue=!1,X=!1;!this.isValidLookup(y)&&I&&(ue=!0,y=$),this.isValidLookup(y)||(X=!0,y=o);let ae=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:y,we=I&&$!==y&&this.options.updateMissing;if(X||ue||we){if(this.logger.log(we?"updateKey":"missingKey",h,l,o,we?$:y),a){let J=this.resolve(o,{...s,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $e=[],me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let J=0;J<me.length;J++)$e.push(me[J]);else this.options.saveMissingTo==="all"?$e=this.languageUtils.toResolveHierarchy(s.lng||this.language):$e.push(s.lng||this.language);let wt=(J,pe,Ge)=>{let Et=I&&Ge!==y?Ge:ae;this.options.missingKeyHandler?this.options.missingKeyHandler(J,l,pe,Et,we,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(J,l,pe,Et,we,s),this.emit("missingKey",J,l,pe,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?$e.forEach(J=>{let pe=this.pluralResolver.getSuffixes(J,s);L&&s[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(Ge=>{wt([J],o+Ge,s[`defaultValue${Ge}`]||$)})}):wt($e,o,$))}y=this.extendTranslation(y,e,s,p,n),X&&y===o&&this.options.appendNamespaceToMissingKey&&(y=`${l}${d}${o}`),(X||ue)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${d}${o}`:o,ue?y:void 0,s))}return i?(p.res=y,p.usedParams=this.getUsedParamsDetails(s),p):y}extendTranslation(e,r,n,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let u=R(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let d=n.replace&&!R(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||s.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),D=h&&h.length;l<D&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>i?.[0]===h[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):this.translate(...h,r),n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,o=R(a)?[a]:a;return e!=null&&o?.length&&n.applyPostProcessor!==!1&&(e=ou.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,o;return R(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(n))return;let l=this.extractFromKey(u,r),d=l.key;s=d;let h=l.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));let D=r.count!==void 0&&!R(r.count),p=D&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(R(r.context)||typeof r.context=="number")&&r.context!=="",N=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(A=>{this.isValidLookup(n)||(o=A,!Xo[`${N[0]}-${A}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Xo[`${N[0]}-${A}`]=!0,this.logger.warn(`key "${s}" for languages "${N.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(P=>{if(this.isValidLookup(n))return;a=P;let _=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,P,A,r);else{let w;D&&(w=this.pluralResolver.getSuffix(P,r.count,r));let I=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(D&&(r.ordinal&&w.indexOf(q)===0&&_.push(d+w.replace(q,this.options.pluralSeparator)),_.push(d+w),p&&_.push(d+I)),y){let S=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(S),D&&(r.ordinal&&w.indexOf(q)===0&&_.push(S+w.replace(q,this.options.pluralSeparator)),_.push(S+w),p&&_.push(S+I))}}let se;for(;se=_.pop();)this.isValidLookup(n)||(i=se,n=this.getResource(P,A,se,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){let r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!R(e.replace),s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(let i of r)delete s[i]}return s}static hasDefaultValue(e){let r="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}},Zn=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qe.create("languageUtils")}getScriptPartFromCode(e){if(e=Ar(e),!e||e.indexOf("-")<0)return null;let r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Ar(e),!e||e.indexOf("-")<0)return e;let r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(R(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;let s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;let s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;let i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),R(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){let n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return R(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):R(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}},eu={zero:0,one:1,two:2,few:3,many:4,other:5},tu={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})},ai=class{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Qe.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){let n=Ar(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),tu;if(!e.match(/-|_/))return tu;let u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>eu[s]-eu[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){let s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}},ru=(t,e,r,n=".",s=!0)=>{let i=ld(t,e,r);return!i&&s&&R(r)&&(i=ni(t,r,n),i===void 0&&(i=ni(e,r,n))),i},ti=t=>t.replace(/\$/g,"$$$$"),zn=class{constructor(e={}){this.logger=Qe.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:u,formatSeparator:l,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:D,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:N,nestingOptionsSeparator:A,maxReplaces:P,alwaysFormat:_}=e.interpolation;this.escape=r!==void 0?r:fd,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?tr(i):a||"{{",this.suffix=o?tr(o):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=D?tr(D):p||tr("$t("),this.nestingSuffix=y?tr(y):N||tr(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=P||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){let i,a,o,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){let P=ru(r,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,n,{...s,...r,interpolationkey:p}):P}let y=p.split(this.formatSeparator),N=y.shift().trim(),A=y.join(this.formatSeparator).trim();return this.format(ru(r,u,N,this.options.keySeparator,this.options.ignoreJSONStructure),A,n,{...s,...r,interpolationkey:N})};this.resetRegExp();let d=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>ti(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?ti(this.escape(p)):ti(p)}].forEach(p=>{for(o=0;i=p.regex.exec(e);){let y=i[1].trim();if(a=l(y),a===void 0)if(typeof d=="function"){let A=d(e,i,s);a=R(A)?A:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(h){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!R(a)&&!this.useRawValueToEscape&&(a=Go(a));let N=p.safeValue(a);if(e=e.replace(i[0],N),h?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a,o=(u,l)=>{let d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;let h=u.split(new RegExp(`${d}[ ]*{`)),D=`{${h[1]}`;u=h[0],D=this.interpolate(D,a);let p=D.match(/'/g),y=D.match(/"/g);((p?.length??0)%2===0&&!y||y.length%2!==0)&&(D=D.replace(/'/g,'"'));try{a=JSON.parse(D),l&&(a={...l,...a})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,N),`${u}${d}${D}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];a={...n},a=a.replace&&!R(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(l!==-1&&(u=s[1].slice(l).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,l)),i=r(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!R(i))return i;R(i)||(i=Go(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),u.length&&(i=u.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}},gd=t=>{let e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){let[o,...u]=a.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();r[d]||(r[d]=l),l==="false"&&(r[d]=!1),l==="true"&&(r[d]=!0),isNaN(l)||(r[d]=parseInt(l,10))}})}return{formatName:e,formatOptions:r}},nu=t=>{let e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});let a=n+JSON.stringify(i),o=e[a];return o||(o=t(Ar(n),s),e[a]=o),o(r)}},yd=t=>(e,r,n)=>t(Ar(r),n)(e),oi=class{constructor(e={}){this.logger=Qe.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";let n=r.cacheInBuiltFormats?nu:yd;this.formats={number:n((s,i)=>{let a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:n((s,i)=>{let a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:n((s,i)=>{let a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:n((s,i)=>{let a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:n((s,i)=>{let a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=nu(r)}format(e,r,n,s={}){let i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){let o=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,u)=>{let{formatName:l,formatOptions:d}=gd(u);if(this.formats[l]){let h=o;try{let D=s?.formatParams?.[s.interpolationkey]||{},p=D.locale||D.lng||s.locale||s.lng||n;h=this.formats[l](o,p,{...d,...s,...D})}catch(D){this.logger.warn(D)}return h}else this.logger.warn(`there was no format function for ${l}`);return o},e)}},Fd=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},ui=class extends rr{constructor(e,r,n,s={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,s.backend,s)}queueLoad(e,r,n,s){let i={},a={},o={},u={};return e.forEach(l=>{let d=!0;r.forEach(h=>{let D=`${l}|${h}`;!n.reload&&this.store.hasResourceBundle(l,h)?this.state[D]=2:this.state[D]<0||(this.state[D]===1?a[D]===void 0&&(a[D]=!0):(this.state[D]=1,d=!1,a[D]===void 0&&(a[D]=!0),i[D]===void 0&&(i[D]=!0),u[h]===void 0&&(u[h]=!0)))}),d||(o[l]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,r,n){let s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);let o={};this.queue.forEach(u=>{ud(u.loaded,[i],a),Fd(u,e),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{o[l]||(o[l]={});let d=u.loaded[l];d.length&&d.forEach(h=>{o[l][h]===void 0&&(o[l][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;let o=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){let h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(l&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(l,d)},u=this.backend[n].bind(this.backend);if(u.length===2){try{let l=u(e,r);l&&typeof l.then=="function"?l.then(d=>o(null,d)).catch(o):o(null,l)}catch(l){o(l)}return}return u(e,r,o)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();R(e)&&(e=this.languageUtils.toResolveHierarchy(e)),R(r)&&(r=[r]);let i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){let n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,s,i,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){let u={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,r,n,s,u):d=l(e,r,n,s),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else l(e,r,n,s,o,u)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}},su=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),R(t[1])&&(e.defaultValue=t[1]),R(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iu=t=>(R(t.ns)&&(t.ns=[t.ns]),R(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),R(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Pn=()=>{},wd=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})},li=class t extends rr{constructor(e={},r){if(super(),this.options=iu(e),this.services={},this.logger=Qe,this.modules={external:[]},wd(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(R(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let n=su();this.options={...n,...this.options,...iu(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);let s=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Qe.init(s(this.modules.logger),this.options):Qe.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=oi;let d=new Zn(this.options);this.store=new jn(this.options.resources,this.options);let h=this.services;h.logger=Qe,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new ai(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=s(l),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new zn(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ui(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Hn(this.services,this.options),this.translator.on("*",(p,...y)=>{this.emit(p,...y)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Pn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...d)=>this.store[l](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...d)=>(this.store[l](...d),this)});let o=Nr(),u=()=>{let l=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),o}loadResources(e,r=Pn){let n=r,s=R(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){let s=Nr();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Pn),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ou.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){let n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;let n=Nr();this.emit("languageChanging",e);let s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,u)=>{u?this.isLanguageChangingTo===e&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve((...l)=>this.t(...l)),r&&r(o,(...l)=>this.t(...l))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);let u=R(o)?o:o&&o[0],l=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(R(o)?[o]:o);l&&(this.language||s(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector?.cacheUserLanguage?.(l)),this.loadResources(l,d=>{i(d,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){let s=(i,a,...o)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([i,a].concat(o)):u={...a},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||s.keyPrefix);let l=this.options.keySeparator||".",d;return u.keyPrefix&&Array.isArray(i)?d=i.map(h=>(typeof h=="function"&&(h=ii(h,{...this.options,...a})),`${u.keyPrefix}${l}${h}`)):(typeof i=="function"&&(i=ii(i,{...this.options,...a})),d=u.keyPrefix?`${u.keyPrefix}${l}${i}`:i),this.t(d,u)};return R(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let a=(o,u)=>{let l=this.services.backendConnector.state[`${o}|${u}`];return l===-1||l===0||l===2};if(r.precheck){let o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){let n=Nr();return this.options.ns?(R(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){let n=Nr();R(e)&&(e=[e]);let s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let s=new Intl.Locale(e);if(s&&s.getTextInfo){let i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}let r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Zn(su());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){let n=new t(e,r);return n.createInstance=t.createInstance,n}cloneInstance(e={},r=Pn){let n=e.forkResourceStore;n&&delete e.forkResourceStore;let s={...this.options,...e,isClone:!0},i=new t(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){let o=Object.keys(this.store.data).reduce((u,l)=>(u[l]={...this.store.data[l]},u[l]=Object.keys(u[l]).reduce((d,h)=>(d[h]={...u[l][h]},d),u[l]),u),{});i.store=new jn(o,s),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new zn(s)),i.translator=new Hn(i.services,s),i.translator.on("*",(o,...u)=>{i.emit(o,...u)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},T=li.createInstance(),um=T.createInstance,lm=T.dir,cm=T.init,fm=T.loadResources,dm=T.reloadResources,hm=T.use,mm=T.changeLanguage,pm=T.getFixedT,Dm=T.t,gm=T.exists,ym=T.setDefaultNamespace,Fm=T.hasLoadedNamespace,wm=T.loadNamespaces,Em=T.loadLanguages;var ye=Da(Xs());function lu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lu(Object(r),!0).forEach(function(n){Ed(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ed(t,e,r){return e=vd(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vd(t){var e=xd(t,"string");return typeof e=="symbol"?e:String(e)}function xd(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Td=fu({}),Mt=Td;function fu(t){return e.withOptions=r=>fu(cu(cu({},t),r)),e;function e(r,...n){let s=typeof r=="string"?[r]:r.raw,{alignValues:i=!1,escapeSpecialCharacters:a=Array.isArray(r),trimWhitespace:o=!0}=t,u="";for(let h=0;h<s.length;h++){let D=s[h];if(a&&(D=D.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),u+=D,h<n.length){let p=i?Sd(n[h],u):n[h];u+=p}}let l=u.split(`
`),d=null;for(let h of l){let D=h.match(/^(\s+)\S+/);if(D){let p=D[1].length;d?d=Math.min(d,p):d=p}}if(d!==null){let h=d;u=l.map(D=>D[0]===" "||D[0]==="	"?D.slice(h):D).join(`
`)}return o&&(u=u.trim()),a&&(u=u.replace(/\\n/g,`
`)),typeof Bun<"u"&&(u=u.replace(/\\u(?:\{([\da-fA-F]{1,6})\}|([\da-fA-F]{4}))/g,(h,D,p)=>{var y;let N=(y=D??p)!==null&&y!==void 0?y:"";return String.fromCodePoint(parseInt(N,16))})),u}}function Sd(t,e){if(typeof t!="string"||!t.includes(`
`))return t;let n=e.slice(e.lastIndexOf(`
`)+1).match(/^(\s+)/);if(n){let s=n[1];return t.replace(/\n/g,`
${s}`)}return t}var it=class extends Error{},qn=class extends it{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Yn=class extends it{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Gn=class extends it{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Ue=class extends it{},nr=class extends it{constructor(e){super(`Invalid unit ${e}`)}},ne=class extends it{},je=class extends it{constructor(){super("Zone is an abstract class")}};var O="numeric",He="short",be="long",mt={year:O,month:O,day:O},Rr={year:O,month:He,day:O},ci={year:O,month:He,day:O,weekday:He},Br={year:O,month:be,day:O},$r={year:O,month:be,day:O,weekday:be},Vr={hour:O,minute:O},Wr={hour:O,minute:O,second:O},_r={hour:O,minute:O,second:O,timeZoneName:He},Pr={hour:O,minute:O,second:O,timeZoneName:be},Ur={hour:O,minute:O,hourCycle:"h23"},jr={hour:O,minute:O,second:O,hourCycle:"h23"},Hr={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:He},Zr={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:be},zr={year:O,month:O,day:O,hour:O,minute:O},qr={year:O,month:O,day:O,hour:O,minute:O,second:O},Yr={year:O,month:He,day:O,hour:O,minute:O},Gr={year:O,month:He,day:O,hour:O,minute:O,second:O},fi={year:O,month:He,day:O,weekday:He,hour:O,minute:O},Jr={year:O,month:be,day:O,hour:O,minute:O,timeZoneName:He},Kr={year:O,month:be,day:O,hour:O,minute:O,second:O,timeZoneName:He},Qr={year:O,month:be,day:O,weekday:be,hour:O,minute:O,timeZoneName:be},Xr={year:O,month:be,day:O,weekday:be,hour:O,minute:O,second:O,timeZoneName:be};var ve=class{get type(){throw new je}get name(){throw new je}get ianaName(){return this.name}get isUniversal(){throw new je}offsetName(e,r){throw new je}formatOffset(e,r){throw new je}offset(e){throw new je}equals(e){throw new je}get isValid(){throw new je}};var di=null,pt=class t extends ve{static get instance(){return di===null&&(di=new t),di}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Kn(e,r,n)}formatOffset(e,r){return Dt(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var mi=new Map;function Cd(t){let e=mi.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),mi.set(t,e)),e}var Od={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function bd(t,e){let r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,i,a,o,u,l,d]=n;return[a,s,i,o,u,l,d]}function kd(t,e){let r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){let{type:i,value:a}=r[s],o=Od[i];i==="era"?n[o]=a:k(o)||(n[o]=parseInt(a,10))}return n}var hi=new Map,De=class t extends ve{static create(e){let r=hi.get(e);return r===void 0&&hi.set(e,r=new t(e)),r}static resetCache(){hi.clear(),mi.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Kn(e,r,n,this.name)}formatOffset(e,r){return Dt(this.offset(e),r)}offset(e){if(!this.valid)return NaN;let r=new Date(e);if(isNaN(r))return NaN;let n=Cd(this.name),[s,i,a,o,u,l,d]=n.formatToParts?kd(n,r):bd(n,r);o==="BC"&&(s=-Math.abs(s)+1);let D=sr({year:s,month:i,day:a,hour:u===24?0:u,minute:l,second:d,millisecond:0}),p=+r,y=p%1e3;return p-=y>=0?y:1e3+y,(D-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var du={};function Id(t,e={}){let r=JSON.stringify([t,e]),n=du[r];return n||(n=new Intl.ListFormat(t,e),du[r]=n),n}var pi=new Map;function Di(t,e={}){let r=JSON.stringify([t,e]),n=pi.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(t,e),pi.set(r,n)),n}var gi=new Map;function Md(t,e={}){let r=JSON.stringify([t,e]),n=gi.get(r);return n===void 0&&(n=new Intl.NumberFormat(t,e),gi.set(r,n)),n}var yi=new Map;function Nd(t,e={}){let{base:r,...n}=e,s=JSON.stringify([t,n]),i=yi.get(s);return i===void 0&&(i=new Intl.RelativeTimeFormat(t,e),yi.set(s,i)),i}var en=null;function Ld(){return en||(en=new Intl.DateTimeFormat().resolvedOptions().locale,en)}var Fi=new Map;function hu(t){let e=Fi.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),Fi.set(t,e)),e}var wi=new Map;function Ad(t){let e=wi.get(t);if(!e){let r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e={...mu,...e}),wi.set(t,e)}return e}function Rd(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=Di(t).resolvedOptions(),s=t}catch{let u=t.substring(0,r);n=Di(u).resolvedOptions(),s=u}let{numberingSystem:i,calendar:a}=n;return[s,i,a]}}function Bd(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function $d(t){let e=[];for(let r=1;r<=12;r++){let n=Z.utc(2009,r,1);e.push(t(n))}return e}function Vd(t){let e=[];for(let r=1;r<=7;r++){let n=Z.utc(2016,11,13+r);e.push(t(n))}return e}function Qn(t,e,r,n){let s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function Wd(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||hu(t.locale).numberingSystem==="latn"}var Ei=class{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:s,floor:i,...a}=n;if(!r||Object.keys(a).length>0){let o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=Md(e,o)}}format(e){if(this.inf){let r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{let r=this.floor?Math.floor(e):ir(e,3);return Q(r,this.padTo)}}},vi=class{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&De.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let i={...this.opts};i.timeZone=i.timeZone||s,this.dtf=Di(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){let n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},xi=class{constructor(e,r,n){this.opts={style:"long",...n},!r&&Xn()&&(this.rtf=Nd(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):pu(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}},mu={firstDay:1,minimalDays:4,weekend:[6,7]},j=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,s,i=!1){let a=e||U.defaultLocale,o=a||(i?"en-US":Ld()),u=r||U.defaultNumberingSystem,l=n||U.defaultOutputCalendar,d=tn(s)||U.defaultWeekSettings;return new t(o,u,l,d,a)}static resetCache(){en=null,pi.clear(),gi.clear(),yi.clear(),Fi.clear(),wi.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return t.create(e,r,n,s)}constructor(e,r,n,s,i){let[a,o,u]=Rd(e);this.locale=a,this.numberingSystem=r||o||null,this.outputCalendar=n||u||null,this.weekSettings=s,this.intl=Bd(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Wd(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,tn(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Qn(this,e,Ti,()=>{let n=this.intl==="ja"||this.intl.startsWith("ja-");r&=!n;let s=r?{month:e,day:"numeric"}:{month:e},i=r?"format":"standalone";if(!this.monthsCache[i][e]){let a=n?o=>this.dtFormatter(o,s).format():o=>this.extract(o,s,"month");this.monthsCache[i][e]=$d(a)}return this.monthsCache[i][e]})}weekdays(e,r=!1){return Qn(this,e,Si,()=>{let n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Vd(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return Qn(this,void 0,()=>Ci,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Z.utc(2016,11,13,9),Z.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Qn(this,e,Oi,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Z.utc(-40,1,1),Z.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){let s=this.dtFormatter(e,r),i=s.formatToParts(),a=i.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new Ei(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new vi(e,this.intl,r)}relFormatter(e={}){return new xi(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Id(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||hu(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:es()?Ad(this.locale):mu}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var ki=null,ce=class t extends ve{static get utcInstance(){return ki===null&&(ki=new t(0)),ki}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new t(Nt(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Dt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Dt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Dt(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var ar=class extends ve{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ze(t,e){let r;if(k(t)||t===null)return e;if(t instanceof ve)return t;if(Du(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?pt.instance:n==="utc"||n==="gmt"?ce.utcInstance:ce.parseSpecifier(n)||De.create(t)}else return ze(t)?ce.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new ar(t)}var Mi={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},gu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_d=Mi.hanidec.replace(/[\[|\]]/g,"").split("");function yu(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(t[r].search(Mi.hanidec)!==-1)e+=_d.indexOf(t[r]);else for(let s in gu){let[i,a]=gu[s];n>=i&&n<=a&&(e+=n-i)}}return parseInt(e,10)}else return e}var Ii=new Map;function Fu(){Ii.clear()}function Le({numberingSystem:t},e=""){let r=t||"latn",n=Ii.get(r);n===void 0&&(n=new Map,Ii.set(r,n));let s=n.get(e);return s===void 0&&(s=new RegExp(`${Mi[r]}${e}`),n.set(e,s)),s}var wu=()=>Date.now(),Eu="system",vu=null,xu=null,Tu=null,Su=60,Cu,Ou=null,U=class{static get now(){return wu}static set now(e){wu=e}static set defaultZone(e){Eu=e}static get defaultZone(){return Ze(Eu,pt.instance)}static get defaultLocale(){return vu}static set defaultLocale(e){vu=e}static get defaultNumberingSystem(){return xu}static set defaultNumberingSystem(e){xu=e}static get defaultOutputCalendar(){return Tu}static set defaultOutputCalendar(e){Tu=e}static get defaultWeekSettings(){return Ou}static set defaultWeekSettings(e){Ou=tn(e)}static get twoDigitCutoffYear(){return Su}static set twoDigitCutoffYear(e){Su=e%100}static get throwOnInvalid(){return Cu}static set throwOnInvalid(e){Cu=e}static resetCaches(){j.resetCache(),De.resetCache(),Z.resetCache(),Fu()}};var fe=class{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var bu=[0,31,59,90,120,151,181,212,243,273,304,334],ku=[0,31,60,91,121,152,182,213,244,274,305,335];function Ae(t,e){return new fe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function ts(t,e,r){let n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let s=n.getUTCDay();return s===0?7:s}function Iu(t,e,r){return r+(At(t)?ku:bu)[e-1]}function Mu(t,e){let r=At(t)?ku:bu,n=r.findIndex(i=>i<e),s=e-r[n];return{month:n+1,day:s}}function rs(t,e){return(t-e+7)%7+1}function rn(t,e=4,r=1){let{year:n,month:s,day:i}=t,a=Iu(n,s,i),o=rs(ts(n,s,i),r),u=Math.floor((a-o+14-e)/7),l;return u<1?(l=n-1,u=Lt(l,e,r)):u>Lt(n,e,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:o,...sn(t)}}function Ni(t,e=4,r=1){let{weekYear:n,weekNumber:s,weekday:i}=t,a=rs(ts(n,1,e),r),o=gt(n),u=s*7+i-a-7+e,l;u<1?(l=n-1,u+=gt(l)):u>o?(l=n+1,u-=gt(n)):l=n;let{month:d,day:h}=Mu(l,u);return{year:l,month:d,day:h,...sn(t)}}function ns(t){let{year:e,month:r,day:n}=t,s=Iu(e,r,n);return{year:e,ordinal:s,...sn(t)}}function Li(t){let{year:e,ordinal:r}=t,{month:n,day:s}=Mu(e,r);return{year:e,month:n,day:s,...sn(t)}}function Ai(t,e){if(!k(t.localWeekday)||!k(t.localWeekNumber)||!k(t.localWeekYear)){if(!k(t.weekday)||!k(t.weekNumber)||!k(t.weekYear))throw new Ue("Cannot mix locale-based week fields with ISO-based week fields");return k(t.localWeekday)||(t.weekday=t.localWeekday),k(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),k(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Nu(t,e=4,r=1){let n=nn(t.weekYear),s=ke(t.weekNumber,1,Lt(t.weekYear,e,r)),i=ke(t.weekday,1,7);return n?s?i?!1:Ae("weekday",t.weekday):Ae("week",t.weekNumber):Ae("weekYear",t.weekYear)}function Lu(t){let e=nn(t.year),r=ke(t.ordinal,1,gt(t.year));return e?r?!1:Ae("ordinal",t.ordinal):Ae("year",t.year)}function Ri(t){let e=nn(t.year),r=ke(t.month,1,12),n=ke(t.day,1,or(t.year,t.month));return e?r?n?!1:Ae("day",t.day):Ae("month",t.month):Ae("year",t.year)}function Bi(t){let{hour:e,minute:r,second:n,millisecond:s}=t,i=ke(e,0,23)||e===24&&r===0&&n===0&&s===0,a=ke(r,0,59),o=ke(n,0,59),u=ke(s,0,999);return i?a?o?u?!1:Ae("millisecond",s):Ae("second",n):Ae("minute",r):Ae("hour",e)}function k(t){return typeof t>"u"}function ze(t){return typeof t=="number"}function nn(t){return typeof t=="number"&&t%1===0}function Du(t){return typeof t=="string"}function Ru(t){return Object.prototype.toString.call(t)==="[object Date]"}function Xn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function es(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Bu(t){return Array.isArray(t)?t:[t]}function $i(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{let i=[e(s),s];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function $u(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tn(t){if(t==null)return null;if(typeof t!="object")throw new ne("Week settings must be an object");if(!ke(t.firstDay,1,7)||!ke(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ke(e,1,7)))throw new ne("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ke(t,e,r){return nn(t)&&t>=e&&t<=r}function Pd(t,e){return t-e*Math.floor(t/e)}function Q(t,e=2){let r=t<0,n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function at(t){if(!(k(t)||t===null||t===""))return parseInt(t,10)}function Ft(t){if(!(k(t)||t===null||t===""))return parseFloat(t)}function an(t){if(!(k(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ir(t,e,r="round"){let n=10**e;switch(r){case"expand":return t>0?Math.ceil(t*n)/n:Math.floor(t*n)/n;case"trunc":return Math.trunc(t*n)/n;case"round":return Math.round(t*n)/n;case"floor":return Math.floor(t*n)/n;case"ceil":return Math.ceil(t*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function At(t){return t%4===0&&(t%100!==0||t%400===0)}function gt(t){return At(t)?366:365}function or(t,e){let r=Pd(e-1,12)+1,n=t+(e-r)/12;return r===2?At(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function sr(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Au(t,e,r){return-rs(ts(t,1,e),r)+e-1}function Lt(t,e=4,r=1){let n=Au(t,e,r),s=Au(t+1,e,r);return(gt(t)-n+s)/7}function on(t){return t>99?t:t>U.twoDigitCutoffYear?1900+t:2e3+t}function Kn(t,e,r,n=null){let s=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);let a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(r,a).formatToParts(s).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function Nt(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);let n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Vi(t){let e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new ne(`Invalid unit value ${t}`);return e}function ur(t,e){let r={};for(let n in t)if(yt(t,n)){let s=t[n];if(s==null)continue;r[e(n)]=Vi(s)}return r}function Dt(t,e){let r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${Q(r,2)}:${Q(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${Q(r,2)}${Q(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function sn(t){return $u(t,["hour","minute","second","millisecond"])}var Ud=["January","February","March","April","May","June","July","August","September","October","November","December"],Wi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jd=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ti(t){switch(t){case"narrow":return[...jd];case"short":return[...Wi];case"long":return[...Ud];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var _i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Pi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hd=["M","T","W","T","F","S","S"];function Si(t){switch(t){case"narrow":return[...Hd];case"short":return[...Pi];case"long":return[..._i];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Ci=["AM","PM"],Zd=["Before Christ","Anno Domini"],zd=["BC","AD"],qd=["B","A"];function Oi(t){switch(t){case"narrow":return[...qd];case"short":return[...zd];case"long":return[...Zd];default:return null}}function Vu(t){return Ci[t.hour<12?0:1]}function Wu(t,e){return Si(e)[t.weekday-1]}function _u(t,e){return Ti(e)[t.month-1]}function Pu(t,e){return Oi(e)[t.year<0?0:1]}function pu(t,e,r="always",n=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&i){let h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${s[t][0]}`;case-1:return h?"yesterday":`last ${s[t][0]}`;case 0:return h?"today":`this ${s[t][0]}`;default:}}let a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,l=s[t],d=n?u?l[1]:l[2]||l[1]:u?s[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function Uu(t,e){let r="";for(let n of t)n.literal?r+=n.val:r+=e(n.val);return r}var Yd={D:mt,DD:Rr,DDD:Br,DDDD:$r,t:Vr,tt:Wr,ttt:_r,tttt:Pr,T:Ur,TT:jr,TTT:Hr,TTTT:Zr,f:zr,ff:Yr,fff:Jr,ffff:Qr,F:qr,FF:Gr,FFF:Kr,FFFF:Xr},de=class t{static create(e,r={}){return new t(e,r)}static parseFormat(e){let r=null,n="",s=!1,i=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o==="'"?((n.length>0||s)&&i.push({literal:s||/^\s+$/.test(n),val:n===""?"'":n}),r=null,n="",s=!s):s||o===r?n+=o:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=o,r=o)}return n.length>0&&i.push({literal:s||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return Yd[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0,n=void 0){if(this.opts.forceSimple)return Q(e,r);let s={...this.opts};return r>0&&(s.padTo=r),n&&(s.signDisplay=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,r){let n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(p,y)=>this.loc.extract(e,p,y),a=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>n?Vu(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(p,y)=>n?_u(e,p):i(y?{month:p}:{month:p,day:"numeric"},"month"),l=(p,y)=>n?Wu(e,p):i(y?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),d=p=>{let y=t.macroTokenToFormatOpts(p);return y?this.formatWithSystemDefault(e,y):p},h=p=>n?Pu(e,p):i({era:p},"era"),D=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?i({day:"numeric"},"day"):this.num(e.day);case"dd":return s?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return s?i({month:"numeric"},"month"):this.num(e.month);case"MM":return s?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return s?i({year:"numeric"},"year"):this.num(e.year);case"yy":return s?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(p)}};return Uu(t.parseFormat(r),D)}formatDurationFromString(e,r){let n=this.opts.signMode==="negativeLargestOnly"?-1:1,s=d=>{switch(d[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},i=(d,h)=>D=>{let p=s(D);if(p){let y=h.isNegativeDuration&&p!==h.largestUnit?n:1,N;return this.opts.signMode==="negativeLargestOnly"&&p!==h.largestUnit?N="never":this.opts.signMode==="all"?N="always":N="auto",this.num(d.get(p)*y,D.length,N)}else return D},a=t.parseFormat(r),o=a.reduce((d,{literal:h,val:D})=>h?d:d.concat(D),[]),u=e.shiftTo(...o.map(s).filter(d=>d)),l={isNegativeDuration:u<0,largestUnit:Object.keys(u.values)[0]};return Uu(a,i(u,l))}};var Hu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function cr(...t){let e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function fr(...t){return e=>t.reduce(([r,n,s],i)=>{let[a,o,u]=i(e,s);return[{...r,...a},o||n,u]},[{},null,1]).slice(0,2)}function dr(t,...e){if(t==null)return[null,null];for(let[r,n]of e){let s=r.exec(t);if(s)return n(s)}return[null,null]}function Zu(...t){return(e,r)=>{let n={},s;for(s=0;s<t.length;s++)n[t[s]]=at(e[r+s]);return[n,null,r+s]}}var zu=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,Gd=`(?:${zu.source}?(?:\\[(${Hu.source})\\])?)?`,Ui=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,qu=RegExp(`${Ui.source}${Gd}`),ji=RegExp(`(?:[Tt]${qu.source})?`),Jd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Kd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Qd=/(\d{4})-?(\d{3})/,Xd=Zu("weekYear","weekNumber","weekDay"),eh=Zu("year","ordinal"),th=/(\d{4})-(\d\d)-(\d\d)/,Yu=RegExp(`${Ui.source} ?(?:${zu.source}|(${Hu.source}))?`),rh=RegExp(`(?: ${Yu.source})?`);function lr(t,e,r){let n=t[e];return k(n)?r:at(n)}function nh(t,e){return[{year:lr(t,e),month:lr(t,e+1,1),day:lr(t,e+2,1)},null,e+3]}function hr(t,e){return[{hours:lr(t,e,0),minutes:lr(t,e+1,0),seconds:lr(t,e+2,0),milliseconds:an(t[e+3])},null,e+4]}function un(t,e){let r=!t[e]&&!t[e+1],n=Nt(t[e+1],t[e+2]),s=r?null:ce.instance(n);return[{},s,e+3]}function ln(t,e){let r=t[e]?De.create(t[e]):null;return[{},r,e+1]}var sh=RegExp(`^T?${Ui.source}$`),ih=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ah(t){let[e,r,n,s,i,a,o,u,l]=t,d=e[0]==="-",h=u&&u[0]==="-",D=(p,y=!1)=>p!==void 0&&(y||p&&d)?-p:p;return[{years:D(Ft(r)),months:D(Ft(n)),weeks:D(Ft(s)),days:D(Ft(i)),hours:D(Ft(a)),minutes:D(Ft(o)),seconds:D(Ft(u),u==="-0"),milliseconds:D(an(l),h)}]}var oh={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Hi(t,e,r,n,s,i,a){let o={year:e.length===2?on(at(e)):at(e),month:Wi.indexOf(r)+1,day:at(n),hour:at(s),minute:at(i)};return a&&(o.second=at(a)),t&&(o.weekday=t.length>3?_i.indexOf(t)+1:Pi.indexOf(t)+1),o}var uh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function lh(t){let[,e,r,n,s,i,a,o,u,l,d,h]=t,D=Hi(e,s,n,r,i,a,o),p;return u?p=oh[u]:l?p=0:p=Nt(d,h),[D,new ce(p)]}function ch(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var fh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,dh=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,hh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ju(t){let[,e,r,n,s,i,a,o]=t;return[Hi(e,s,n,r,i,a,o),ce.utcInstance]}function mh(t){let[,e,r,n,s,i,a,o]=t;return[Hi(e,o,r,n,s,i,a),ce.utcInstance]}var ph=cr(Jd,ji),Dh=cr(Kd,ji),gh=cr(Qd,ji),yh=cr(qu),Gu=fr(nh,hr,un,ln),Fh=fr(Xd,hr,un,ln),wh=fr(eh,hr,un,ln),Eh=fr(hr,un,ln);function Ju(t){return dr(t,[ph,Gu],[Dh,Fh],[gh,wh],[yh,Eh])}function Ku(t){return dr(ch(t),[uh,lh])}function Qu(t){return dr(t,[fh,ju],[dh,ju],[hh,mh])}function Xu(t){return dr(t,[ih,ah])}var vh=fr(hr);function el(t){return dr(t,[sh,vh])}var xh=cr(th,rh),Th=cr(Yu),Sh=fr(hr,un,ln);function tl(t){return dr(t,[xh,Gu],[Th,Sh])}var rl="Invalid Duration",il={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Ch={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...il},Re=146097/400,mr=146097/4800,Oh={years:{quarters:4,months:12,weeks:Re/7,days:Re,hours:Re*24,minutes:Re*24*60,seconds:Re*24*60*60,milliseconds:Re*24*60*60*1e3},quarters:{months:3,weeks:Re/28,days:Re/4,hours:Re*24/4,minutes:Re*24*60/4,seconds:Re*24*60*60/4,milliseconds:Re*24*60*60*1e3/4},months:{weeks:mr/7,days:mr,hours:mr*24,minutes:mr*24*60,seconds:mr*24*60*60,milliseconds:mr*24*60*60*1e3},...il},Rt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],bh=Rt.slice(0).reverse();function ot(t,e,r=!1){let n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new K(n)}function al(t,e){let r=e.milliseconds??0;for(let n of bh.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function nl(t,e){let r=al(t,e)<0?-1:1;Rt.reduceRight((n,s)=>{if(k(e[s]))return n;if(n){let i=e[n]*r,a=t[s][n],o=Math.floor(i/a);e[s]+=o*r,e[n]-=o*a*r}return s},null),Rt.reduce((n,s)=>{if(k(e[s]))return n;if(n){let i=e[n]%1;e[n]-=i,e[s]+=i*t[n][s]}return s},null)}function sl(t){let e={};for(let[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}var K=class t{constructor(e){let r=e.conversionAccuracy==="longterm"||!1,n=r?Oh:Ch;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||j.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return t.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new ne(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:ur(e,t.normalizeUnit),loc:j.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(ze(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new ne(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){let[n]=Xu(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){let[n]=el(e);return n?t.fromObject(n,r):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new ne("need to specify a reason the Duration is invalid");let n=e instanceof fe?e:new fe(e,r);if(U.throwOnInvalid)throw new Gn(n);return new t({invalid:n})}static normalizeUnit(e){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new nr(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){let n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?de.create(this.loc,n).formatDurationFromString(this,e):rl}toHuman(e={}){if(!this.isValid)return rl;let r=e.showZeros!==!1,n=Rt.map(s=>{let i=this.values[s];return k(i)||i===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(i)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ir(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Z.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?al(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e),n={};for(let s of Rt)(yt(r.values,s)||yt(this.values,s))&&(n[s]=r.get(s)+this.get(s));return ot(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let r=t.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;let r={};for(let n of Object.keys(this.values))r[n]=Vi(e(this.values[n],n));return ot(this,{values:r},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let r={...this.values,...ur(e,t.normalizeUnit)};return ot(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return ot(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return nl(this.matrix,e),ot(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=sl(this.normalize().shiftToAll().toObject());return ot(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>t.normalizeUnit(a));let r={},n={},s=this.toObject(),i;for(let a of Rt)if(e.indexOf(a)>=0){i=a;let o=0;for(let l in n)o+=this.matrix[l][a]*n[l],n[l]=0;ze(s[a])&&(o+=s[a]);let u=Math.trunc(o);r[a]=u,n[a]=(o*1e3-u*1e3)/1e3}else ze(s[a])&&(n[a]=s[a]);for(let a in n)n[a]!==0&&(r[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return nl(this.matrix,r),ot(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ot(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;let e=sl(this.values);return ot(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(let n of Rt)if(!r(this.values[n],e.values[n]))return!1;return!0}};var pr="Invalid Interval";function kh(t,e){return!t||!t.isValid?ut.invalid("missing or invalid start"):!e||!e.isValid?ut.invalid("missing or invalid end"):e<t?ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var ut=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new ne("need to specify a reason the Interval is invalid");let n=e instanceof fe?e:new fe(e,r);if(U.throwOnInvalid)throw new Yn(n);return new t({invalid:n})}static fromDateTimes(e,r){let n=Dr(e),s=Dr(r),i=kh(n,s);return i??new t({start:n,end:s})}static after(e,r){let n=K.fromDurationLike(r),s=Dr(e);return t.fromDateTimes(s,s.plus(n))}static before(e,r){let n=K.fromDurationLike(r),s=Dr(e);return t.fromDateTimes(s.minus(n),s)}static fromISO(e,r){let[n,s]=(e||"").split("/",2);if(n&&s){let i,a;try{i=Z.fromISO(n,r),a=i.isValid}catch{a=!1}let o,u;try{o=Z.fromISO(s,r),u=o.isValid}catch{u=!1}if(a&&u)return t.fromDateTimes(i,o);if(a){let l=K.fromISO(s,r);if(l.isValid)return t.after(i,l)}else if(u){let l=K.fromISO(n,r);if(l.isValid)return t.before(o,l)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;let n=this.start.startOf(e,r),s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?t.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];let r=e.map(Dr).filter(a=>this.contains(a)).sort((a,o)=>a.toMillis()-o.toMillis()),n=[],{s}=this,i=0;for(;s<this.e;){let a=r[i]||this.e,o=+a>+this.e?this.e:a;n.push(t.fromDateTimes(s,o)),s=o,i+=1}return n}splitBy(e){let r=K.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,i,a=[];for(;n<this.e;){let o=this.start.plus(r.mapUnits(u=>u*s));i=+o>+this.e?this.e:o,a.push(t.fromDateTimes(n,i)),n=i,s+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:t.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;let r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return t.fromDateTimes(r,n)}static merge(e){let[r,n]=e.sort((s,i)=>s.s-i.s).reduce(([s,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[s,i.union(a)]:[s.concat([i]),a]:[s,a],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0,s=[],i=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((u,l)=>u.time-l.time);for(let u of o)n+=u.type==="s"?1:-1,n===1?r=u.time:(r&&+r!=+u.time&&s.push(t.fromDateTimes(r,u.time)),r=null);return t.merge(s)}difference(...e){return t.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:pr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=mt,r={}){return this.isValid?de.create(this.s.loc.clone(r),e).formatInterval(this):pr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:pr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:pr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:pr}toFormat(e,{separator:r=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:pr}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):K.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}};var lt=class{static hasDST(e=U.defaultZone){let r=Z.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return De.isValidZone(e)}static normalizeZone(e){return Ze(e,U.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||j.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||j.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||j.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||j.create(r,n,i)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:i="gregory"}={}){return(s||j.create(r,n,i)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||j.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||j.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return j.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return j.create(r,null,"gregory").eras(e)}static features(){return{relative:Xn(),localeWeek:es()}}};function ol(t,e){let r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(K.fromMillis(n).as("days"))}function Ih(t,e,r){let n=[["years",(u,l)=>l.year-u.year],["quarters",(u,l)=>l.quarter-u.quarter+(l.year-u.year)*4],["months",(u,l)=>l.month-u.month+(l.year-u.year)*12],["weeks",(u,l)=>{let d=ol(u,l);return(d-d%7)/7}],["days",ol]],s={},i=t,a,o;for(let[u,l]of n)r.indexOf(u)>=0&&(a=u,s[u]=l(t,e),o=i.plus(s),o>e?(s[u]--,t=i.plus(s),t>e&&(o=t,s[u]--,t=i.plus(s))):t=o);return[t,s,o,a]}function ul(t,e,r,n){let[s,i,a,o]=Ih(t,e,r),u=e-s,l=r.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);l.length===0&&(a<e&&(a=s.plus({[o]:1})),a!==s&&(i[o]=(i[o]||0)+u/(a-s)));let d=K.fromObject(i,n);return l.length>0?K.fromMillis(u,n).shiftTo(...l).plus(d):d}var Mh="missing Intl.DateTimeFormat.formatToParts support";function z(t,e=r=>r){return{regex:t,deser:([r])=>e(yu(r))}}var Nh="\xA0",fl=`[ ${Nh}]`,dl=new RegExp(fl,"g");function Lh(t){return t.replace(/\./g,"\\.?").replace(dl,fl)}function ll(t){return t.replace(/\./g,"").replace(dl," ").toLowerCase()}function qe(t,e){return t===null?null:{regex:RegExp(t.map(Lh).join("|")),deser:([r])=>t.findIndex(n=>ll(r)===ll(n))+e}}function cl(t,e){return{regex:t,deser:([,r,n])=>Nt(r,n),groups:e}}function ss(t){return{regex:t,deser:([e])=>e}}function Ah(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Rh(t,e){let r=Le(e),n=Le(e,"{2}"),s=Le(e,"{3}"),i=Le(e,"{4}"),a=Le(e,"{6}"),o=Le(e,"{1,2}"),u=Le(e,"{1,3}"),l=Le(e,"{1,6}"),d=Le(e,"{1,9}"),h=Le(e,"{2,4}"),D=Le(e,"{4,6}"),p=A=>({regex:RegExp(Ah(A.val)),deser:([P])=>P,literal:!0}),N=(A=>{if(t.literal)return p(A);switch(A.val){case"G":return qe(e.eras("short"),0);case"GG":return qe(e.eras("long"),0);case"y":return z(l);case"yy":return z(h,on);case"yyyy":return z(i);case"yyyyy":return z(D);case"yyyyyy":return z(a);case"M":return z(o);case"MM":return z(n);case"MMM":return qe(e.months("short",!0),1);case"MMMM":return qe(e.months("long",!0),1);case"L":return z(o);case"LL":return z(n);case"LLL":return qe(e.months("short",!1),1);case"LLLL":return qe(e.months("long",!1),1);case"d":return z(o);case"dd":return z(n);case"o":return z(u);case"ooo":return z(s);case"HH":return z(n);case"H":return z(o);case"hh":return z(n);case"h":return z(o);case"mm":return z(n);case"m":return z(o);case"q":return z(o);case"qq":return z(n);case"s":return z(o);case"ss":return z(n);case"S":return z(u);case"SSS":return z(s);case"u":return ss(d);case"uu":return ss(o);case"uuu":return z(r);case"a":return qe(e.meridiems(),0);case"kkkk":return z(i);case"kk":return z(h,on);case"W":return z(o);case"WW":return z(n);case"E":case"c":return z(r);case"EEE":return qe(e.weekdays("short",!1),1);case"EEEE":return qe(e.weekdays("long",!1),1);case"ccc":return qe(e.weekdays("short",!0),1);case"cccc":return qe(e.weekdays("long",!0),1);case"Z":case"ZZ":return cl(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return cl(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return ss(/[a-z_+-/]{1,256}?/i);case" ":return ss(/[^\S\n\r]/);default:return p(A)}})(t)||{invalidReason:Mh};return N.token=t,N}var Bh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function $h(t,e,r){let{type:n,value:s}=t;if(n==="literal"){let u=/^\s+$/.test(s);return{literal:!u,val:u?" ":s}}let i=e[n],a=n;n==="hour"&&(e.hour12!=null?a=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?a="hour12":a="hour24":a=r.hour12?"hour12":"hour24");let o=Bh[a];if(typeof o=="object"&&(o=o[i]),o)return{literal:!1,val:o}}function Vh(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function Wh(t,e,r){let n=t.match(e);if(n){let s={},i=1;for(let a in r)if(yt(r,a)){let o=r[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(n.slice(i,i+u))),i+=u}return[n,s]}else return[n,{}]}function _h(t){let e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},r=null,n;return k(t.z)||(r=De.create(t.z)),k(t.Z)||(r||(r=new ce(t.Z)),n=t.Z),k(t.q)||(t.M=(t.q-1)*3+1),k(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),k(t.u)||(t.S=an(t.u)),[Object.keys(t).reduce((i,a)=>{let o=e(a);return o&&(i[o]=t[a]),i},{}),r,n]}var Zi=null;function Ph(){return Zi||(Zi=Z.fromMillis(1555555555555)),Zi}function Uh(t,e){if(t.literal)return t;let r=de.macroTokenToFormatOpts(t.val),n=Yi(r,e);return n==null||n.includes(void 0)?t:n}function zi(t,e){return Array.prototype.concat(...t.map(r=>Uh(r,e)))}var cn=class{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=zi(de.parseFormat(r),e),this.units=this.tokens.map(n=>Rh(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){let[n,s]=Vh(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){let[r,n]=Wh(e,this.regex,this.handlers),[s,i,a]=n?_h(n):[null,null,void 0];if(yt(n,"a")&&yt(n,"H"))throw new Ue("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:i,specificOffset:a}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function qi(t,e,r){return new cn(t,r).explainFromTokens(e)}function hl(t,e,r){let{result:n,zone:s,specificOffset:i,invalidReason:a}=qi(t,e,r);return[n,s,i,a]}function Yi(t,e){if(!t)return null;let n=de.create(e,t).dtFormatter(Ph()),s=n.formatToParts(),i=n.resolvedOptions();return s.map(a=>$h(a,t,i))}var Gi="Invalid DateTime",ml=864e13;function fn(t){return new fe("unsupported zone",`the zone "${t.name}" is not supported`)}function Ji(t){return t.weekData===null&&(t.weekData=rn(t.c)),t.weekData}function Ki(t){return t.localWeekData===null&&(t.localWeekData=rn(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Bt(t,e){let r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Z({...r,...e,old:r})}function El(t,e,r){let n=t-e*60*1e3,s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;let i=r.offset(n);return s===i?[n,s]:[t-Math.min(s,i)*60*1e3,Math.max(s,i)]}function is(t,e){t+=e*60*1e3;let r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function os(t,e,r){return El(sr(t),e,r)}function pl(t,e){let r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:n,month:s,day:Math.min(t.c.day,or(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=K.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=sr(i),[u,l]=El(o,r,t.zone);return a!==0&&(u+=a,l=t.zone.offset(u)),{ts:u,o:l}}function gr(t,e,r,n,s,i){let{setZone:a,zone:o}=r;if(t&&Object.keys(t).length!==0||e){let u=e||o,l=Z.fromObject(t,{...r,zone:u,specificOffset:i});return a?l:l.setZone(o)}else return Z.invalid(new fe("unparsable",`the input "${s}" can't be parsed as ${n}`))}function as(t,e,r=!0){return t.isValid?de.create(j.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Qi(t,e,r){let n=t.c.year>9999||t.c.year<0,s="";if(n&&t.c.year>=0&&(s+="+"),s+=Q(t.c.year,n?6:4),r==="year")return s;if(e){if(s+="-",s+=Q(t.c.month),r==="month")return s;s+="-"}else if(s+=Q(t.c.month),r==="month")return s;return s+=Q(t.c.day),s}function Dl(t,e,r,n,s,i,a){let o=!r||t.c.millisecond!==0||t.c.second!==0,u="";switch(a){case"day":case"month":case"year":break;default:if(u+=Q(t.c.hour),a==="hour")break;if(e){if(u+=":",u+=Q(t.c.minute),a==="minute")break;o&&(u+=":",u+=Q(t.c.second))}else{if(u+=Q(t.c.minute),a==="minute")break;o&&(u+=Q(t.c.second))}if(a==="second")break;o&&(!n||t.c.millisecond!==0)&&(u+=".",u+=Q(t.c.millisecond,3))}return s&&(t.isOffsetFixed&&t.offset===0&&!i?u+="Z":t.o<0?(u+="-",u+=Q(Math.trunc(-t.o/60)),u+=":",u+=Q(Math.trunc(-t.o%60))):(u+="+",u+=Q(Math.trunc(t.o/60)),u+=":",u+=Q(Math.trunc(t.o%60)))),i&&(u+="["+t.zone.ianaName+"]"),u}var vl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Hh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},us=["year","month","day","hour","minute","second","millisecond"],Zh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zh=["year","ordinal","hour","minute","second","millisecond"];function ls(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new nr(t);return e}function gl(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return ls(t)}}function qh(t){if(dn===void 0&&(dn=U.now()),t.type!=="iana")return t.offset(dn);let e=t.name,r=Xi.get(e);return r===void 0&&(r=t.offset(dn),Xi.set(e,r)),r}function yl(t,e){let r=Ze(e.zone,U.defaultZone);if(!r.isValid)return Z.invalid(fn(r));let n=j.fromObject(e),s,i;if(k(t.year))s=U.now();else{for(let u of us)k(t[u])&&(t[u]=vl[u]);let a=Ri(t)||Bi(t);if(a)return Z.invalid(a);let o=qh(r);[s,i]=os(t,o,r)}return new Z({ts:s,zone:r,loc:n,o:i})}function Fl(t,e,r){let n=k(r.round)?!0:r.round,s=k(r.rounding)?"trunc":r.rounding,i=(o,u)=>(o=ir(o,n||r.calendary?0:2,r.calendary?"round":s),e.loc.clone(r).relFormatter(r).format(o,u)),a=o=>r.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(r.unit)return i(a(r.unit),r.unit);for(let o of r.units){let u=a(o);if(Math.abs(u)>=1)return i(u,o)}return i(t>e?-0:0,r.units[r.units.length-1])}function wl(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}var dn,Xi=new Map,Z=class t{constructor(e){let r=e.zone||U.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new fe("invalid input"):null)||(r.isValid?null:fn(r));this.ts=k(e.ts)?U.now():e.ts;let s=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,i]=[e.old.c,e.old.o];else{let o=ze(e.o)&&!e.old?e.o:r.offset(this.ts);s=is(this.ts,o),n=Number.isNaN(s.year)?new fe("invalid input"):null,s=n?null:s,i=n?null:o}this._zone=r,this.loc=e.loc||j.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=i,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,r]=wl(arguments),[n,s,i,a,o,u,l]=r;return yl({year:n,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static utc(){let[e,r]=wl(arguments),[n,s,i,a,o,u,l]=r;return e.zone=ce.utcInstance,yl({year:n,month:s,day:i,hour:a,minute:o,second:u,millisecond:l},e)}static fromJSDate(e,r={}){let n=Ru(e)?e.valueOf():NaN;if(Number.isNaN(n))return t.invalid("invalid input");let s=Ze(r.zone,U.defaultZone);return s.isValid?new t({ts:n,zone:s,loc:j.fromObject(r)}):t.invalid(fn(s))}static fromMillis(e,r={}){if(ze(e))return e<-ml||e>ml?t.invalid("Timestamp out of range"):new t({ts:e,zone:Ze(r.zone,U.defaultZone),loc:j.fromObject(r)});throw new ne(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(ze(e))return new t({ts:e*1e3,zone:Ze(r.zone,U.defaultZone),loc:j.fromObject(r)});throw new ne("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};let n=Ze(r.zone,U.defaultZone);if(!n.isValid)return t.invalid(fn(n));let s=j.fromObject(r),i=ur(e,gl),{minDaysInFirstWeek:a,startOfWeek:o}=Ai(i,s),u=U.now(),l=k(r.specificOffset)?n.offset(u):r.specificOffset,d=!k(i.ordinal),h=!k(i.year),D=!k(i.month)||!k(i.day),p=h||D,y=i.weekYear||i.weekNumber;if((p||d)&&y)throw new Ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(D&&d)throw new Ue("Can't mix ordinal dates with month/day");let N=y||i.weekday&&!p,A,P,_=is(u,l);N?(A=Zh,P=jh,_=rn(_,a,o)):d?(A=zh,P=Hh,_=ns(_)):(A=us,P=vl);let se=!1;for(let Y of A){let Xe=i[Y];k(Xe)?se?i[Y]=P[Y]:i[Y]=_[Y]:se=!0}let w=N?Nu(i,a,o):d?Lu(i):Ri(i),I=w||Bi(i);if(I)return t.invalid(I);let q=N?Ni(i,a,o):d?Li(i):i,[S,L]=os(q,l,n),$=new t({ts:S,zone:n,o:L,loc:s});return i.weekday&&p&&e.weekday!==$.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${$.toISO()}`):$.isValid?$:t.invalid($.invalid)}static fromISO(e,r={}){let[n,s]=Ju(e);return gr(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){let[n,s]=Ku(e);return gr(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){let[n,s]=Qu(e);return gr(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(k(e)||k(r))throw new ne("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:i=null}=n,a=j.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0}),[o,u,l,d]=hl(a,e,r);return d?t.invalid(d):gr(o,u,n,`format ${r}`,e,l)}static fromString(e,r,n={}){return t.fromFormat(e,r,n)}static fromSQL(e,r={}){let[n,s]=tl(e);return gr(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new ne("need to specify a reason the DateTime is invalid");let n=e instanceof fe?e:new fe(e,r);if(U.throwOnInvalid)throw new qn(n);return new t({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){let n=Yi(e,j.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return zi(de.parseFormat(e),j.fromObject(r)).map(s=>s.val).join("")}static resetCache(){dn=void 0,Xi.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ji(this).weekYear:NaN}get weekNumber(){return this.isValid?Ji(this).weekNumber:NaN}get weekday(){return this.isValid?Ji(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ki(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ki(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ki(this).weekYear:NaN}get ordinal(){return this.isValid?ns(this.c).ordinal:NaN}get monthShort(){return this.isValid?lt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?lt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?lt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?lt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,r=6e4,n=sr(this.c),s=this.zone.offset(n-e),i=this.zone.offset(n+e),a=this.zone.offset(n-s*r),o=this.zone.offset(n-i*r);if(a===o)return[this];let u=n-a*r,l=n-o*r,d=is(u,a),h=is(l,o);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[Bt(this,{ts:u}),Bt(this,{ts:l})]:[this]}get isInLeapYear(){return At(this.year)}get daysInMonth(){return or(this.year,this.month)}get daysInYear(){return this.isValid?gt(this.year):NaN}get weeksInWeekYear(){return this.isValid?Lt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Lt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:r,numberingSystem:n,calendar:s}=de.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(ce.instance(e),r)}toLocal(){return this.setZone(U.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Ze(e,U.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){let i=e.offset(this.ts),a=this.toObject();[s]=os(a,i,e)}return Bt(this,{ts:s,zone:e})}else return t.invalid(fn(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){let s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Bt(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let r=ur(e,gl),{minDaysInFirstWeek:n,startOfWeek:s}=Ai(r,this.loc),i=!k(r.weekYear)||!k(r.weekNumber)||!k(r.weekday),a=!k(r.ordinal),o=!k(r.year),u=!k(r.month)||!k(r.day),l=o||u,d=r.weekYear||r.weekNumber;if((l||a)&&d)throw new Ue("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Ue("Can't mix ordinal dates with month/day");let h;i?h=Ni({...rn(this.c,n,s),...r},n,s):k(r.ordinal)?(h={...this.toObject(),...r},k(r.day)&&(h.day=Math.min(or(h.year,h.month),h.day))):h=Li({...ns(this.c),...r});let[D,p]=os(h,this.o,this.zone);return Bt(this,{ts:D,o:p})}plus(e){if(!this.isValid)return this;let r=K.fromDurationLike(e);return Bt(this,pl(this,r))}minus(e){if(!this.isValid)return this;let r=K.fromDurationLike(e).negate();return Bt(this,pl(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;let n={},s=K.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break;case"milliseconds":break}if(s==="weeks")if(r){let i=this.loc.getStartOfWeek(),{weekday:a}=this;a<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(s==="quarters"){let i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?de.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Gi}toLocaleString(e=mt,r={}){return this.isValid?de.create(this.loc.clone(r),e).formatDateTime(this):Gi}toLocaleParts(e={}){return this.isValid?de.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:i=!1,precision:a="milliseconds"}={}){if(!this.isValid)return null;a=ls(a);let o=e==="extended",u=Qi(this,o,a);return us.indexOf(a)>=3&&(u+="T"),u+=Dl(this,o,r,n,s,i,a),u}toISODate({format:e="extended",precision:r="day"}={}){return this.isValid?Qi(this,e==="extended",ls(r)):null}toISOWeekDate(){return as(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:i=!1,format:a="extended",precision:o="milliseconds"}={}){return this.isValid?(o=ls(o),(s&&us.indexOf(o)>=3?"T":"")+Dl(this,a==="extended",r,e,n,i,o)):null}toRFC2822(){return as(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return as(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Qi(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),as(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Gi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return K.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=Bu(r).map(K.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,l=ul(o,u,i,s);return a?l.negate():l}diffNow(e="milliseconds",r={}){return this.diff(t.now(),e,r)}until(e){return this.isValid?ut.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;let s=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r,n)<=s&&s<=i.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let r=e.base||t.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0,s=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(s=e.unit,i=void 0),Fl(r,this.plus(n),{...e,numeric:"always",units:s,unit:i})}toRelativeCalendar(e={}){return this.isValid?Fl(e.base||t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(t.isDateTime))throw new ne("min requires all arguments be DateTimes");return $i(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new ne("max requires all arguments be DateTimes");return $i(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){let{locale:s=null,numberingSystem:i=null}=n,a=j.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});return qi(a,e,r)}static fromStringExplain(e,r,n={}){return t.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){let{locale:n=null,numberingSystem:s=null}=r,i=j.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new cn(i,e)}static fromFormatParser(e,r,n={}){if(k(e)||k(r))throw new ne("fromFormatParser requires an input string and a format parser");let{locale:s=null,numberingSystem:i=null}=n,a=j.fromOpts({locale:s,numberingSystem:i,defaultToEN:!0});if(!a.equals(r.locale))throw new ne(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);let{result:o,zone:u,specificOffset:l,invalidReason:d}=r.explainFromTokens(e);return d?t.invalid(d):gr(o,u,n,`format ${r.format}`,e,l)}static get DATE_SHORT(){return mt}static get DATE_MED(){return Rr}static get DATE_MED_WITH_WEEKDAY(){return ci}static get DATE_FULL(){return Br}static get DATE_HUGE(){return $r}static get TIME_SIMPLE(){return Vr}static get TIME_WITH_SECONDS(){return Wr}static get TIME_WITH_SHORT_OFFSET(){return _r}static get TIME_WITH_LONG_OFFSET(){return Pr}static get TIME_24_SIMPLE(){return Ur}static get TIME_24_WITH_SECONDS(){return jr}static get TIME_24_WITH_SHORT_OFFSET(){return Hr}static get TIME_24_WITH_LONG_OFFSET(){return Zr}static get DATETIME_SHORT(){return zr}static get DATETIME_SHORT_WITH_SECONDS(){return qr}static get DATETIME_MED(){return Yr}static get DATETIME_MED_WITH_SECONDS(){return Gr}static get DATETIME_MED_WITH_WEEKDAY(){return fi}static get DATETIME_FULL(){return Jr}static get DATETIME_FULL_WITH_SECONDS(){return Kr}static get DATETIME_HUGE(){return Qr}static get DATETIME_HUGE_WITH_SECONDS(){return Xr}};function Dr(t){if(Z.isDateTime(t))return t;if(t&&t.valueOf&&ze(t.valueOf()))return Z.fromJSDate(t);if(t&&typeof t=="object")return Z.fromObject(t);throw new ne(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Fr=require("obsidian");function ea(t,e,r,n,s){return!t||Object.keys(t).length===0?!1:e?Object.entries(t).some(([i,a])=>{if(r(i))return!1;let o=Object.keys(e).find(u=>!r(u)&&n(u,i));return o?a==null?!0:!s(a,e[o]):a!=null}):!0}function cs(t,e){let r=new Set,n=[];if(!t.length)return{keys:r,regex:n};for(let s of t){let i=e.processString(s),a=e.recognizeRegex(s);a?n.push(a):r.add(i)}return{keys:r,regex:n}}function $t(t,e,r){let{keys:n,regex:s}=e;if(!n.size&&!s.length)return!1;let i=r.processString(t);return n.has(i)?!0:s.some(a=>(a.lastIndex=0,a.test(i)))}var xl={prefix:"dv_",listSuffix:"_list",unflatten:{enabled:!1,separator:"__"},ignore:{files:[],keyName:"dv_ignore"},dql:!0,djs:!0,listFields:{fields:[],lowerCase:!0,ignoreAccents:!0},ignoreFields:{fields:[],lowerCase:!0,ignoreAccents:!0},cleanUpText:{fields:[],lowerCase:!0,ignoreAccents:!0},interval:1e3,deleteFromFrontmatter:{enabled:!0,lowerCase:!0,ignoreAccents:!0},extraMenus:!1,dataviewOptions:{durationFormat:{formatDuration:!1,humanReadableOptions:void 0,textReplacement:void 0}}};var Yh=/^-?\d+e?\d*(\.\d+)?$/;function Vt(t){return t==null?!1:typeof t=="number"?!Number.isNaN(t):typeof t!="string"||!t.trim()?!1:Yh.test(t)}function hn(t){return typeof t=="number"?t:Vt(t)?Number(t):t}var Gh=/\/(?<regex>.*)\/(?<flag>[gmiyuvsd]*)/,Jh=/(.)\1+/g,yr=class{stringCache=new Map;regexCache=new Map;prefix="[Dataview Properties]";configs=new Map;activeConfig="default";constructor(e){this.configs.set("default",e)}setConfig(e,r){this.configs.set(e,r)}useConfig(e){return this.configs.has(e)?(this.activeConfig=e,!0):!1}getOptions(){return this.configs.get(this.activeConfig)||this.configs.get("default")}removeDuplicateFlag(e){return e.replace(Jh,"$1")}recognizeRegex(e){if(this.regexCache.has(e))return this.regexCache.get(e)||null;let r=e.match(Gh);if(!r||!r.groups)return this.regexCache.set(e,null),null;try{let{regex:n,flag:s}=r.groups,i=this.removeDuplicateFlag(s),a=new RegExp(n,i);return this.regexCache.set(e,a),a}catch(n){return console.error(`${this.prefix} Error creating regex:`,n),this.regexCache.set(e,null),null}}keysMatch(e,r){if(e===r)return!0;let n=this.processString(e),s=this.processString(r);if(n===s)return!0;if(e.includes("/")){let i=this.recognizeRegex(e);if(i&&i.test(r))return!0}return!1}processString(e){let r=this.getOptions(),n=`${e}_${r.lowerCase}_${r.ignoreAccents}`,s=this.stringCache.get(n);if(s!==void 0)return s;let i=e;return r.lowerCase&&(i=i.toLowerCase()),r.ignoreAccents&&(i=i.removeAccents()),this.stringCache.set(n,i),i}valuesEqual(e,r){return e===r?!0:typeof e=="string"&&typeof r=="string"?this.processString(e)===this.processString(r):(typeof e=="number"||Vt(e))&&(typeof r=="number"||Vt(r))?Number(e)===Number(r):!1}removeFromValue(e,r){let n=this.getOptions();return ta(e,r,s=>this.recognizeRegex(s),{lowerCase:n.lowerCase,ignoreAccents:n.ignoreAccents})}};function Sl(t){let e=t.split(/[\n,]+ ?/),r=[];for(let n of e){let s=n.trim();if(s.length===0)continue;let i=s.match(/^[-*+]\s+(.*)$/);if(i){r.push(i[1]);continue}let a=s.match(/^\d+\.\s+(.*)$/);a&&r.push(a[1])}return r.length===0?t.split(/, ?/).filter(n=>n.length>0):r}function Cl(t,e){let r={};for(let n in t){let s=n.split(e),i=r;for(let a=0;a<s.length;a++){let o=s[a];a===s.length-1?i[o]=t[n]:(o in i||(i[o]={}),i=i[o])}}return r}function ta(t,e,r,n){if(!e.length)return t;let s=t,i=n.lowerCase?"i":"";for(let a of e){let o=r(a);if(o){s=s.replace(o,"").trim();continue}let u=a,l=s;n.ignoreAccents&&(u=u.removeAccents(),l=l.removeAccents());let d=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),h=new RegExp(d,i+(n.ignoreAccents?"g":""));if(n.ignoreAccents){let D,p=0,y="";for(;(D=h.exec(l))!==null;)y+=s.slice(p,D.index),p=D.index+a.length;y+=s.slice(p),s=y}else s=s.replace(h,"")}return s=s.trim().replace(/\s+/g," "),s.length?s:null}function Kh(t,e,r){let n=typeof t=="number"?t.toString():t,s=typeof n=="string"?e.removeFromValue(n,r):n;return hn(s)}function Ol(t,e,r,n,s){let i={};t.useConfig("cleanup");for(let[a,o]of Object.entries(e||{})){if($t(a,n,t))continue;let u=Kh(o,t,r);u==null?s.add(a):i[a]=u}return i}var ra=class{dvApi;path;plugin;sourceText;queryCache=new Map;prefix="[Dataview Properties]";constructor(e,r,n){this.dvApi=e,this.path=r,this.plugin=n,this.sourceText=""}escapeRegex(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}dvInlineQueryMatches(){let e=this.dvApi.settings.inlineQueryPrefix||"=",r=new RegExp(`\`${this.escapeRegex(e)}(.+?)\``,"gsm");return this.sourceText.matchAll(r)}dvInlineJSMatches(){let e=this.dvApi.settings.inlineJsQueryPrefix||"$=",r=new RegExp(`\`${this.escapeRegex(e)}(.+?)\``,"gsm");return this.sourceText.matchAll(r)}matches(){return{inlineMatches:this.dvInlineQueryMatches(),inlineJsMatches:this.dvInlineJSMatches()}}removeDataviewQueries(e){return e==null?"":e?.toString()||""}async inlineDQLDataview(e){let r=`dql:${e}:${this.path}`;if(this.queryCache.has(r))return this.queryCache.get(r);try{let n=this.dvApi.evaluateInline(e,this.path),s;return n.successful?s=this.removeDataviewQueries(n.value):s=this.removeDataviewQueries(this.dvApi.settings.renderNullAs),this.queryCache.set(r,s),s}catch(n){return console.error(`${this.prefix} Error evaluating DQL query '${e}':`,n),""}}delay(e){return new Promise((r,n)=>{setTimeout(r,e)})}async inlineDataviewJS(e){let r=`djs:${e}:${this.path}`;if(this.queryCache.has(r))return this.queryCache.get(r);try{let n=createEl("div"),s=new Fr.Component;s.load();let i=Mt(`
				try {
					const query = ${e};
					dv.el("div", query);
				} catch(e) {
					dv.paragraph("Evaluation Error: " + e.message);
				}
			`);await this.dvApi.executeJs(i,n,s,this.path);let a=0;for(;!n.querySelector("[data-tag-name]")&&a<50;)await this.delay(5),a++;let o=this.removeDataviewQueries((0,Fr.htmlToMarkdown)(n));return this.queryCache.set(r,o),o}catch(n){return console.error(`${this.prefix} Error evaluating JS query '${e}':`,n),"Evaluation Error"}}toWikiLink(e){let r=/\[(?<display>.*)?\]\((?<link>.*)\)/g;if(!ye.Values.isString(e))return e;let n=r.exec(e);if(n){let{display:s,link:i}=n.groups,a=s&&s.trim().length>0?`|${s}`:"";return i.startsWith("http")||i.startsWith("/")?e:i.startsWith("app://")?i.startsWith("app://obsidian")?`[[${i.replace("app://obsidian.md/","").replace(/\.md$/,"").replace(/\.md$/,"")}${a}]]`:e:`[[${i}${a}]]`}return e}convertToDvArrayLinks(e){let r=[];for(let n of e)if(ye.Values.isLink(n)){let s=this.stringifyLink(n);r.push(s)}else r.push(this.toWikiLink(decodeURI(n)));return r}isHtml(e){return ye.Values.isString(e)?/<[^>]+>/g.test(e):!1}convertDuration(e){let{humanReadableOptions:r,textReplacement:n,formatDuration:s}=this.plugin.settings.dataviewOptions.durationFormat;if(!s)return e.toString();let a=K.fromObject(e.values).toHuman(r);return n?.toReplace?a.replaceAll(n.toReplace,n.replaceWith):a}async evaluateInline(e,r){if(!(e===""||e===void 0))try{if(ye.Values.isString(e)){let n=hn(await this.convertDataviewQueries(e));return ye.Values.isString(n)?(this.isHtml(n)&&(n=(0,Fr.htmlToMarkdown)(n)),$t(r,this.plugin.listFields,this.plugin.utils)||r.endsWith(this.plugin.settings.listSuffix)?this.convertToDvArrayLinks(Sl(n)):n):n}return ye.Values.isLink(e)||e?.constructor.name==="Link"?this.stringifyLink(e):ye.Values.isHtml(e)?(0,Fr.htmlToMarkdown)(e):ye.Values.isWidget(e)||ye.Values.isFunction(e)||ye.Values.isNull(e)?void 0:ye.Values.isArray(e)?await Promise.all(e.map(n=>this.evaluateInline(n,r))):e?.constructor.name==="Duration"?this.convertDuration(e):e}catch(n){console.error(`${this.prefix} Error evaluating inline value:`,n);return}}stringifyLink(e){function r(){let s=e.toString();return!e.display&&!e.subpath?s.replace(/\|.*\]{2}/,"]]"):s}let n=this.plugin.app.vault.getFileByPath(e.path);return n?this.plugin.app.fileManager.generateMarkdownLink(n,this.path,e.subpath?`#${e.subpath}`:void 0,e.display):r()}async convertDataviewQueries(e){let{app:r,settings:n}=this.plugin;if(!this.plugin.isDataviewEnabled()||!(0,ye.getAPI)(r))return e;this.sourceText=e;let{inlineMatches:i,inlineJsMatches:a}=this.matches(),o=e;if(n.dql)for(let u of i){let l=u[0],d=u[1].trim(),h=await this.inlineDQLDataview(d);h.includes("Evaluation Error")||(o=o.replace(l,h))}if(n.djs)for(let u of a){let l=u[0],d=u[1].trim(),h=await this.inlineDataviewJS(d);h.includes("Evaluation Error")||(o=o.replace(l,h))}return o}};async function na(t,e,r){let{app:n}=e;if(!e.isDataviewEnabled())return{};let s=(0,ye.getAPI)(n);if(!s)return{};let i=s.page(t);if(!i)return{};let a=new ra(s,t,e),o={},u=new Set;for(let l in i){if(l==="file")continue;let d=l.toLowerCase(),h=d.replaceAll(" ","-"),D=d.replaceAll(/[([)\]]/g,"");if(!(u.has(d)||u.has(h)||u.has(D))){if(u.add(d),u.add(h),u.add(D),!r||!(l in r))o[l]=await a.evaluateInline(i[l],l);else if(Array.isArray(i[l])&&i[l].length>0&&!r?.[l]){let p=i[l],y=p[p.length-1];o[l]=await a.evaluateInline(y,l)}}}return e.settings.unflatten.enabled?Cl(o,e.settings.unflatten.separator):o}var Ml=require("obsidian");var bl={addToFrontmatter:"Add the Dataview field to the frontmatter",cleanUpText:{desc:"When adding the value to the frontmatter, remove the following text. Separate value by comma or a newline. To use a regex, encapsulate the value with",heading:"Remove texte from value",title:"Remove text from value"},dataview:{title:"Enable dataview evaluations. If any option is disabled, the query will be added 'as is' to the properties (frontmatter)."},dataviewEnabled:"Dataview need to be enabled to use this plugin.",deleteFromFrontmatter:{desc:"Cleanup the frontmatter when a field is deleted.",title:"Frontmatter cleanup"},durationFormat:{desc:"Allows you to convert durations (Dataview) into a format that can be read via {{- link}}.",options:{invalid:"The options set are invalid.",title:"Human readable options"},textReplacement:{desc:"Allows you to replace one text with another during conversion to a readable format.",placeholder:"To be replaced",placeholder2:"Replaced with",title:"Transform (text replacement)"},title:"Converting durations into a readable format"},excluded:{add:"add",keyName:"Properties key",placeholder:"path/to/file or /regex/gi",remove:"remove",save:"save",title:"Excluded files"},extraMenus:{desc:"Add a right-click option in the explorer to process the dataview properties in a batch.",title:"Menu"},ignore:"Ignored values",ignoreAccents:{desc:"Accented characters will be converted to their corresponding value:",title:"Ignore accents"},ignoredFields:{desc:"The following fields won't be added to the frontmatter. Separate the value by a new line or a comma. To use regex, encapsulate with",example:"for example:",placeholder:"field1, field-with-text, another field",title:"Ignored fields"},interval:{desc:"to check new Dataview inline field, evaluate and adding them to the properties (frontmatter). Use 0 to disable.",info:"Interval in milliseconds",invalid:{negative:"Please enter a positive number.",number:"Please, enter a valid number."},title:"Interval"},listFields:{desc:'Sometimes, an inline field can be recognized as a string instead of a list. You can use this options to "force" a recognition as a list. You can, also, use a (configurable) suffix  in the field name to allow it to be recognized directly.',example:"in the field name.",invalid:"The list suffix cannot be empty",separator:"You can't include the separator of unflatten in the suffix.",suffix:"Suffix",title:"Mark a field like a list"},lowerCase:{desc:"Uppercase will be recognized as lowercase.",title:"Insensitive"},note:"Fields with empty value won't be added!",prefix:{desc:"This prefix will be added to discriminate added key from the inline to the frontmatter. It, also, prevent duplicate in the metadata parsed by Dataview.",invalid:"The prefix can't be empty!",title:"Prefix"},separator:{desc:"By which character(s) the keys must be separated.",invalid:"A value is mandatory.",point:"{{- point}} is not a valid separator.",title:"Separator",warning:"\u26A0\uFE0F {{- point}} is not a valid value (Dataview does not recognize keys that include it)."},unflatten:{desc:"All properties composed as {{- keys}} will be converted to {{- conversion}}.",title:"Support for nested properties"},warning:{desc:"Only inline dataview queries (DQL/DJS) are supported by the plugin, as code blocks can't be set for inline fields.",title:"Warning"}};var kl={addToFrontmatter:"Ajouter les champs Dataview au frontmatter",cleanUpText:{desc:"Quand la valeur sera ajout\xE9 au frontmatter, le(s) texte(s) suivant seront supprim\xE9. S\xE9par\xE9 les valeurs par une virgule ou un retour \xE0 la ligne. Pour utiliser une expression r\xE9guli\xE8re, encadrer le texte avec",heading:"Supprimer des valeurs",title:"Supprimer du texte dans les valeurs"},dataview:{title:"Activer les \xE9valuations de DataView. Si une option est d\xE9sactiv\xE9e, la requ\xEAte sera ajout\xE9e \xAB telle quelle \xBB aux propri\xE9t\xE9s (frontmatter)."},dataviewEnabled:"DataView doit \xEAtre activ\xE9 pour pouvoir utiliser ce module.",deleteFromFrontmatter:{desc:"Nettoyer le frontmatter quand un champ est supprim\xE9.",title:"Nettoyage du frontmatter"},durationFormat:{desc:"Permet de convertir les dur\xE9es (Dataview) en un format lisible via {{- link}}.",options:{invalid:"Les options mises ne sont pas valides.",title:"Options de lecture lisible"},textReplacement:{desc:"Permet de remplacer un texte par un autre durant la transformation en format lisible.",placeholder:"\xC0 \xEAtre remplac\xE9",placeholder2:"Remplacer avec",title:"Transformation (remplacement de texte)"},title:"Convertion des dur\xE9es en format lisible"},excluded:{add:"Ajouter",keyName:"Cl\xE9 de propri\xE9t\xE9",placeholder:"chemin/vers/fichier ou /regex/gi",remove:"supprimer",save:"sauvegarder",title:"Fichier exclus"},extraMenus:{desc:"Ajoute une option dans le click droit de l'explorateur pour ajouter les propri\xE9t\xE9s dataview en lot.",title:"Menu"},ignore:"Valeur ignor\xE9e",ignoreAccents:{desc:"Les caract\xE8res accentu\xE9s seront converti en leur valeur correspondante :",title:"Ignorer les accents"},ignoredFields:{desc:"Les champs suivants ne seront pas ajout\xE9 au frontmatter. S\xE9parez les valeurs par un retour \xE0 la ligne ou une virgule. Pour utiliser une expression r\xE9guli\xE8re, encadr\xE9 le texte avec",example:"par exemple :",placeholder:"champ1, champ-avec-text, autre champ",title:"Champs ignor\xE9s"},interval:{desc:"pour v\xE9rifier les nouveaux champs en \xAB inline \xBB de Dataview, les \xE9valuer et les ajouter aux propri\xE9t\xE9s (frontmatter). Utiliser 0 pour le d\xE9sactiver.",info:"Intervalle en millisecondes",invalid:{negative:"Merci d'entrer un nombre positif.",number:"Merci d'entrer un nombre valide."},title:"Intervalle"},listFields:{desc:`Parfois, un champ inline peut \xEAtre reconnu comme une cha\xEEne de caract\xE8re au lieu d'une liste. Vous pouvez utiliser cette option pour "forcer" la reconnaissance en tant que tel. Vous pouvez \xE9galement utiliser un suffixe (configurable) dans le nom du champ pour le faire reconna\xEEtre directement.`,example:"dans le nom du champ.",invalid:"Le suffix indiquant une liste ne peut \xEAtre vide.",separator:"Vous ne pouvez pas inclure le s\xE9parateur des cl\xE9s imbriqu\xE9s dans le suffix.",suffix:"Suffixe",title:"Marquer un champ comme une liste"},lowerCase:{desc:"Les majuscules seront reconnues comme minuscules.",title:"Insensitive"},note:"Les champs avec valeur vide ne seront pas ajout\xE9s!",prefix:{desc:`Ce pr\xE9fixe sera ajout\xE9 pour discriminer la cl\xE9 ajout\xE9e en "inline" du frontmatter.
Cela emp\xEAche \xE9galement la duplication des m\xE9tadonn\xE9es analys\xE9es par Dataview.`,invalid:"Le pr\xE9fixe ne peut pas \xEAtre vide!",title:"Pr\xE9fixe"},separator:{desc:"Par quel(s) caract\xE8re(s) les cl\xE9s doivent \xEAtre s\xE9par\xE9e.",invalid:"Une valeur est n\xE9cessaire.",point:"{{- point}} n'est pas un s\xE9parateur valide.",title:"S\xE9parateur",warning:"\u26A0\uFE0F {{- point}} n'est pas une valeur valide (Dataview ne reconna\xEEt pas les cl\xE9s l'incluant.)"},unflatten:{desc:"Toutes les propri\xE9t\xE9s \xE9crites tel que {{- keys}} seront converti en {{- conversion}}.",title:"Support des propri\xE9t\xE9s imbriqu\xE9es"},warning:{desc:"Seulement les queries dataview en ligne sont support\xE9s par le plugin, puisque les bloc de code ne peuvent \xEAtre mis pour eux.",title:"Attention"}};var sa={fr:{translation:kl},en:{translation:bl}},Il=window.localStorage.language||Ml.moment.locale(),Nl=Object.keys(sa).find(t=>t.toLocaleLowerCase()==Il.toLowerCase())?Il.toLowerCase():"en";var b=require("obsidian");var Ye=require("obsidian"),fs=class extends Ye.Modal{app;ignored;onSubmit;constructor(e,r,n){super(e),this.app=e,this.onSubmit=n,this.ignored=structuredClone(r)}async onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("dataview-properties-modal");let r=Mt(`
		# Fichier exclus
		Vous pouvez ici exclure des fichiers de la r\xE9solutions de Dataview Properties en les ajoutant \xE0 la liste ci-dessous.
		
		Les fichiers exclus peuvent l'\xEAtre par :
		- Un regex, sous forme \`/regex/flags\`
		- Le chemin du fichier, par exemple \`/path/to/file.md\`
		- Ou simplement par une partie du nom
		
		De plus, il est possible de rapidement exclure un fichier par l'utilisation d'une cl\xE9 dans le frontmatter.
		> [!EXAMPLE] Exemple
		> \`\`\`yaml
		> ${this.ignored.keyName}: true
		> \`\`\`
		`),n=new Ye.Component;n.load(),await Ye.MarkdownRenderer.render(this.app,r,e,"",n),new Ye.Setting(e).setName(T.t("excluded.keyName")).addText(s=>{s.setValue(this.ignored.keyName).onChange(i=>{this.ignored.keyName=i})}),new Ye.Setting(e).setName(T.t("excluded.title")).setHeading();for(let s of this.ignored.files){let i=this.ignored.files.indexOf(s);new Ye.Setting(e).setNoInfo().addText(a=>{a.setValue(s).setPlaceholder(T.t("excluded.placeholder")).onChange(o=>{this.ignored.files[i]=o})}).addExtraButton(a=>{a.setIcon("cross").setTooltip(T.t("excluded.remove")).onClick(()=>{this.ignored.files.splice(i,1),this.onOpen()})})}new Ye.Setting(e).addExtraButton(s=>{s.setIcon("plus").setTooltip(T.t("excluded.add")).onClick(()=>{this.ignored.files.push(""),this.onOpen()})}).addButton(s=>{s.setButtonText(T.t("excluded.save")).setCta().onClick(()=>{this.close(),this.onSubmit(this.ignored)})}),n.unload()}onClose(){let{contentEl:e}=this;e.empty()}};var ds=class extends b.PluginSettingTab{plugin;constructor(e,r){super(e,r),this.plugin=r}textAreaSettings(e){let r=e.getValue();return r.length===0?[]:r.split(/[,\n]+/).map(n=>n.trim()).filter(n=>n.length>0)}convertTimeInterval(e){if(e<1e3)return`${e}ms`;let r=Math.floor(e/1e3),n=Math.floor(r/3600),s=Math.floor(r%3600/60),i=r%60,a="";return n>0&&(a+=`${n}h`),(s>0||n>0)&&(a+=`${s}m`),(i>0||n===0&&s===0)&&(a+=`${i}s`),a}addFieldToggles(e,r){(r.fields&&r.fields.length>0||r.enabled)&&(new b.Setting(e).setName(T.t("lowerCase.title")).setDesc(T.t("lowerCase.desc")).setClass("li").addToggle(n=>n.setValue(r.lowerCase).onChange(async s=>{r.lowerCase=s,await this.plugin.saveSettings()})),new b.Setting(e).setName(T.t("ignoreAccents.title")).setDesc((0,b.sanitizeHTMLToDom)(`${T.t("ignoreAccents.desc")} <code>\xE9</code> \u2192 <code>e</code>`)).setClass("li").addToggle(n=>n.setValue(r.ignoreAccents).onChange(async s=>{r.ignoreAccents=s,await this.plugin.saveSettings()})))}addDeleteFieldToggles(e){let r=this.plugin.settings.deleteFromFrontmatter;this.addFieldToggles(e,r)}async display(){let{containerEl:e}=this;e.empty(),e.addClass("obsidian-dataview-properties"),new b.Setting(e).addButton(s=>{s.setButtonText(T.t("excluded.title")).onClick(()=>{new fs(this.app,this.plugin.settings.ignore,async i=>{this.plugin.settings.ignore=i,await this.plugin.saveSettings()}).open()})}),new b.Setting(e).setName(T.t("prefix.title")).setDesc(T.t("prefix.desc")).addText(s=>{s.setValue(this.plugin.settings.prefix).inputEl.onblur=async()=>{let i=s.getValue();i.trim().length===0?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("prefix.invalid")}</span>`)),s.inputEl.addClass("is-invalid")):(this.plugin.settings.prefix=i.trim(),await this.plugin.saveSettings(),await this.display())}}),e.createEl("hr"),new b.Setting(e).setName(T.t("unflatten.title")).setDesc((0,b.sanitizeHTMLToDom)(T.t("unflatten.desc",{keys:"<code>k1.k2.k3: value<code>",conversion:"<code>k1: { k2: { k3: value } }</code>"}))).addToggle(s=>s.setValue(this.plugin.settings.unflatten.enabled).onChange(async i=>{this.plugin.settings.unflatten.enabled=i,await this.plugin.saveSettings(),await this.display()})),this.plugin.settings.unflatten.enabled&&new b.Setting(e).setName(T.t("separator.title")).setDesc((0,b.sanitizeHTMLToDom)(`${T.t("separator.desc")}<br><span class='warning'>${T.t("separator.warning",{point:"<code>.</code>"})}</span>`)).addText(s=>{s.setValue(this.plugin.settings.unflatten.separator).inputEl.onblur=async()=>{let i=s.getValue();i.trim().length===0?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="obsidian-dataview-properties notice-error">${T.t("separator.invalid")}</span>`)),s.inputEl.addClass("is-invalid")):i.includes(".")?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="obsidian-dataview-properties notice-error">${T.t("separator.point",{point:`<code>${i}</code>`})}</span>`)),s.inputEl.addClass("is-invalid"),s.inputEl.setText("")):(this.plugin.settings.unflatten.separator=i.trim(),await this.plugin.saveSettings(),await this.display())}}),e.createEl("hr"),new b.Setting(e).setName(T.t("extraMenus.title")).setDesc(T.t("extraMenus.desc")).addToggle(s=>s.setValue(this.plugin.settings.extraMenus).onChange(async i=>{this.plugin.settings.extraMenus=i,await this.plugin.saveSettings()})),new b.Setting(e).setName(T.t("interval.title")).setHeading().setDesc((0,b.sanitizeHTMLToDom)(`${T.t("interval.info")} (\u2192 <code>${this.convertTimeInterval(this.plugin.settings.interval)}</code>) ${T.t("interval.desc")}`)).addText(s=>{s.setValue(this.plugin.settings.interval.toString()).inputEl.onblur=async()=>{let i=s.getValue();Vt(i)?Number(i)<0?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error);">${T.t("interval.invalid.negative")}</span>`)),s.inputEl.addClass("is-invalid")):(this.plugin.settings.interval=Number(i),await this.plugin.saveSettings(),await this.display()):(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("interval.invalid.number")}</span>`)),s.inputEl.addClass("is-invalid"))}}),e.createEl("hr"),new b.Setting(e).setName(T.t("listFields.title")).setHeading().setDesc((0,b.sanitizeHTMLToDom)(`${T.t("listFields.desc")}`)),new b.Setting(e).setName(T.t("listFields.suffix")).addText(s=>{s.setValue(this.plugin.settings.listSuffix).inputEl.onblur=async()=>{let i=s.getValue();i.trim().length===0?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("listFields.invalid")}</span>`)),s.inputEl.addClass("is-invalid"),s.setValue("_list")):i.includes(this.plugin.settings.unflatten.separator)&&this.plugin.settings.unflatten.enabled?(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("listFields.separator",{separator:`<code>${this.plugin.settings.unflatten.separator}</code>`})}</span>`)),s.inputEl.addClass("is-invalid"),s.setValue(i.replaceAll(this.plugin.settings.unflatten.separator,""))):(this.plugin.settings.listSuffix=i.trim(),await this.plugin.saveSettings(),await this.display())}}),new b.Setting(e).setNoInfo().setHeading().setClass("max-width").addTextArea(s=>{s.setValue(this.plugin.settings.listFields.fields.join(", ")).inputEl.onblur=async()=>{this.plugin.settings.listFields.fields=this.textAreaSettings(s),await this.plugin.saveSettings(),await this.display()}}),this.addFieldToggles(e,this.plugin.settings.listFields),e.createEl("hr"),new b.Setting(e).setHeading().setName(T.t("ignoredFields.title")).setDesc((0,b.sanitizeHTMLToDom)(`${T.t("ignoredFields.desc")} <code>/</code> ${T.t("ignoredFields.example")} <code>/myRegex/gi</code>`)).setClass("textarea").addTextArea(s=>{s.setValue(this.plugin.settings.ignoreFields.fields.join(", ")).inputEl.onblur=async()=>{this.plugin.settings.ignoreFields.fields=this.textAreaSettings(s),await this.plugin.saveSettings(),await this.display()}}),this.addFieldToggles(e,this.plugin.settings.ignoreFields),e.createEl("hr"),new b.Setting(e).setHeading().setName(T.t("deleteFromFrontmatter.title")).setDesc(T.t("deleteFromFrontmatter.desc")).addToggle(s=>s.setValue(this.plugin.settings.deleteFromFrontmatter.enabled).onChange(async i=>{this.plugin.settings.deleteFromFrontmatter.enabled=i,await this.plugin.saveSettings(),await this.display()})),this.addDeleteFieldToggles(e),e.createEl("hr");let r=new b.Setting(e).setName(T.t("cleanUpText.title")).setHeading().setDesc((0,b.sanitizeHTMLToDom)(`${T.t("cleanUpText.desc")} <code>/</code> ${T.t("ignoredFields.example")} <code>/myRegex/gi</code>`)).setClass("textarea").addTextArea(s=>{s.setValue(this.plugin.settings.cleanUpText.fields.join(", ")).inputEl.onblur=async()=>{this.plugin.settings.cleanUpText.fields=this.textAreaSettings(s),await this.plugin.saveSettings(),await this.display()}}),n=new b.Component;n.load(),await b.MarkdownRenderer.render(this.app,Mt(`
			> [!NOTE] ${T.t("note")}
			`),r.descEl,"",n),this.addFieldToggles(e,this.plugin.settings.cleanUpText),e.createEl("hr"),new b.Setting(e).setName("Dataview").setDesc(T.t("dataview.title")).setHeading(),await b.MarkdownRenderer.render(this.app,Mt(`
			> [!WARNING] ${T.t("warning.title")}
			> ${T.t("warning.desc")}
			`),e,"",n),n.unload(),new b.Setting(e).setName("Query language (DQL)").addToggle(s=>s.setValue(this.plugin.settings.dql).onChange(async i=>{this.plugin.settings.dql=i,await this.plugin.saveSettings()})),new b.Setting(e).setName("Javascript (DJS)").addToggle(s=>s.setValue(this.plugin.settings.djs).onChange(async i=>{this.plugin.settings.djs=i,await this.plugin.saveSettings()})),new b.Setting(e).setName(T.t("durationFormat.title")).setDesc((0,b.sanitizeHTMLToDom)(`${T.t("durationFormat.desc",{link:'<a href="https://moment.github.io/luxon/api-docs/index.html#durationtohuman" target="_blank">Luxon <code>toHuman(opts)</code></a>'})}`)).addToggle(s=>s.setValue(this.plugin.settings.dataviewOptions.durationFormat.formatDuration).onChange(async i=>{this.plugin.settings.dataviewOptions.durationFormat.formatDuration=i,await this.plugin.saveSettings(),await this.display()})),this.plugin.settings.dataviewOptions.durationFormat.formatDuration&&(new b.Setting(e).setName(T.t("durationFormat.options.title")).addTextArea(s=>{s.setValue(JSON.stringify(this.plugin.settings.dataviewOptions.durationFormat.humanReadableOptions)??"").setPlaceholder('e.g. { "unitDisplay": "long", "round": true }').inputEl.onblur=async()=>{let i=s.getValue();if(i.trim().length===0)this.plugin.settings.dataviewOptions.durationFormat.humanReadableOptions=void 0,await this.plugin.saveSettings();else try{let a=JSON.parse(i);typeof a=="object"&&!Array.isArray(a)?(this.plugin.settings.dataviewOptions.durationFormat.humanReadableOptions=a,await this.plugin.saveSettings(),s.inputEl.removeClass("is-invalid")):(new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("durationFormat.options.invalid")}</span>`)),s.inputEl.addClass("is-invalid"))}catch(a){new b.Notice((0,b.sanitizeHTMLToDom)(`<span class="notice-error">${T.t("durationFormat.options.invalid")}</span>`)),console.error(a),s.inputEl.addClass("is-invalid")}}}).setClass("max-width").setClass("li").setClass("display-block"),new b.Setting(e).setName(T.t("durationFormat.textReplacement.title")).setDesc(T.t("durationFormat.textReplacement.desc")).setClass("li").setClass("padding-top").setClass("display-block").addText(s=>s.setValue(this.plugin.settings.dataviewOptions.durationFormat.textReplacement?.toReplace??"").setPlaceholder(T.t("durationFormat.textReplacement.placeholder")).onChange(async i=>{if(i.trim().length===0){this.plugin.settings.dataviewOptions.durationFormat.textReplacement=void 0,await this.plugin.saveSettings();return}this.plugin.settings.dataviewOptions.durationFormat.textReplacement={toReplace:i.length===0?void 0:i,replaceWith:this.plugin.settings.dataviewOptions.durationFormat.textReplacement?.replaceWith??""},await this.plugin.saveSettings()}).inputEl.addClass("max-width")).addExtraButton(s=>s.setIcon("arrow-right").setDisabled(!0).extraSettingsEl.addClass("no-hover")).addText(s=>s.setValue(this.plugin.settings.dataviewOptions.durationFormat.textReplacement?.replaceWith??"").setPlaceholder(T.t("durationFormat.textReplacement.placeholder2")).onChange(async i=>{this.plugin.settings.dataviewOptions.durationFormat.textReplacement={toReplace:this.plugin.settings.dataviewOptions.durationFormat.textReplacement?.toReplace,replaceWith:i},await this.plugin.saveSettings()}).inputEl.addClass("max-width")))}};function em(t,e){if(t.files.length===0)return!1;let r=e.path;return t.files.some(n=>{if(n.startsWith("/")){let s=n.split("/").filter(u=>u.length);if(s.length<1)return!1;let[i,a]=s;return new RegExp(i,rm(a)).test(r)}else return r.includes(n)})}function tm(t,e,r){if(!t)return!1;let n=r.metadataCache.getFileCache(t)?.frontmatter;return n?n[e]===!0||n[e]==="true":!1}function Ll(t,e,r){return em(t,e)?!0:tm(e,t.keyName,r)}function rm(t){if(!t?.length||!t)return"";let e=/^[gmiyuvsd]*$/,r=new Set(t.split(""));return e.test(t)?Array.from(r).join(""):""}var hs=class extends xe.Plugin{settings;ignoredFields={keys:new Set,regex:[]};listFields={keys:new Set,regex:[]};processingFiles=new Set;debounced;prefix="obsidian-dataview-properties";previousDataviewFields=new Map;utils;updateDebouced(){this.settings.interval<=0?this.debounced=()=>{}:this.debounced=(0,xe.debounce)(async e=>{this.isIgnoredFile(e)||await this.resolveDataview(e)},this.settings.interval,!0)}async onload(){this.prefix=`[${this.manifest.name}]`,console.log(`${this.prefix} Loaded`),await this.loadSettings(),await T.init({lng:Nl,fallbackLng:"en",resources:sa,returnNull:!1,returnEmptyString:!1}),this.app.workspace.onLayoutReady(async()=>{this.checkDependencies(),await this.createIndex()}),this.addSettingTab(new ds(this.app,this)),this.addCommand({id:"dataview-to-frontmatter",name:T.t("addToFrontmatter"),checkCallback:e=>{let r=this.app.workspace.getActiveFile();return!r||this.isIgnoredFile(r)?!1:(e||this.resolveDataview(r).catch(n=>console.error(`[${this.manifest.name}] Error processing file:`,n)),!0)}}),this.registerEvent(this.app.metadataCache.on("dataview:metadata-change",async(e,r)=>{e==="delete"?this.previousDataviewFields.delete(r.path):this.debounced(r)})),this.registerEvent(this.app.workspace.on("file-menu",(e,r)=>{if(r instanceof xe.TFile&&!this.isIgnoredFile(r)&&this.settings.extraMenus)e.addItem(n=>{n.setTitle(T.t("addToFrontmatter")).setIcon("checkmark").onClick(async()=>{await this.resolveDataview(r)})});else if(r instanceof xe.TFolder&&this.settings.extraMenus){let n=r.children.filter(s=>s instanceof xe.TFile&&!this.isIgnoredFile(s));n.length>0&&this.settings.extraMenus&&e.addItem(s=>{s.setTitle(T.t("addToFrontmatter")).setIcon("checkmark").onClick(async()=>{await this.processMultipleFiles(n)})})}})),this.registerEvent(this.app.workspace.on("files-menu",(e,r)=>{let n=r.filter(s=>s instanceof xe.TFile&&!this.isIgnoredFile(s));n.length>0&&this.settings.extraMenus&&e.addItem(s=>{s.setTitle(T.t("addToFrontmatter")).setIcon("checkmark").onClick(async()=>{await this.processMultipleFiles(n)})})}))}async processMultipleFiles(e){this.isDataviewEnabled()&&await Promise.all(e.map(r=>this.resolveDataview(r)))}checkDependencies(){this.isDataviewEnabled()||new xe.Notice((0,xe.sanitizeHTMLToDom)(`<span class="obsidian-dataview-properties notice-error">${T.t("dataviewEnabled")}</span>`),5e3)}isIgnored(e){return $t(e,this.ignoredFields,this.utils)}shouldBeUpdated(e,r){return this.utils.useConfig("ignore"),ea(e,r,n=>this.isIgnored(n),(n,s)=>this.utils.keysMatch(n,s),(n,s)=>this.utils.valuesEqual(n,s))}async createIndex(){if(!this.isDataviewEnabled())return;let e=this.app.vault.getMarkdownFiles(),r=5;for(let n=0;n<e.length;n+=r){let s=e.slice(n,n+r);await Promise.all(s.map(async i=>{if(this.processingFiles.has(i.path))return;let a=this.app.metadataCache.getFileCache(i)?.frontmatter;if(a){let o=await na(i.path,this,a);o&&Object.keys(o).length>0&&this.previousDataviewFields.set(i.path,new Set(Object.keys(o)))}})),n+r<e.length&&await sleep(50)}}isIgnoredFile(e){if(!this.isDataviewEnabled())return!0;let r=e.path;return this.processingFiles.has(r)||Ll(this.settings.ignore,e,this.app)}async resolveDataview(e){let r=e.path;if(!this.isIgnoredFile(e))try{this.processingFiles.add(r);let n=this.app.metadataCache.getFileCache(e)?.frontmatter,s=this.previousDataviewFields.get(r),i=await na(r,this,n),a=s&&s.size>0,o=new Set;if(a){let d=new Set(Object.keys(i||{}));s.forEach(h=>{d.has(h)||o.add(h)})}let u=Ol(this.utils,i,this.settings.cleanUpText.fields,this.ignoredFields,o),l=this.shouldBeUpdated(i,n);i&&Object.keys(i).length>0&&this.previousDataviewFields.set(r,new Set(Object.keys(i))),(a||l)&&await this.updateFrontmatter(e,u,o)}finally{this.processingFiles.delete(r)}}isDataviewEnabled(){return!!this.app.plugins.plugins.dataview&&(0,Al.isPluginEnabled)(this.app)&&this.app.plugins.plugins.dataview._loaded}async updateFrontmatter(e,r,n){this.isDataviewEnabled()&&(Object.keys(r).length===0&&(!n||n.size===0)||await this.app.fileManager.processFrontMatter(e,s=>{if(n&&n.size>0){this.utils.useConfig("delete");for(let i of n){if(this.isIgnored(i))continue;let a=Object.keys(s).find(o=>this.utils.keysMatch(o,`${this.settings.prefix}${i}`));a&&delete s[a]}}this.utils.useConfig("cleanup");for(let[i,a]of Object.entries(r))this.isIgnored(i)||a==null||(s[`${this.settings.prefix}${i}`]=a)}))}onunload(){console.log(`${this.prefix} Unloaded`)}loadUtils(){this.utils=new yr(this.settings.cleanUpText),this.utils.setConfig("cleanup",this.settings.cleanUpText),this.utils.setConfig("ignore",this.settings.ignoreFields),this.utils.setConfig("delete",this.settings.deleteFromFrontmatter),this.utils.setConfig("lists",this.settings.listFields)}prepareIgnoredFields(){this.utils.useConfig("ignore");let e=cs(this.settings.ignoreFields.fields,this.utils);this.ignoredFields.keys=e.keys,this.ignoredFields.regex=e.regex}prepareListFields(){this.utils.useConfig("lists");let e=cs(this.settings.listFields.fields,this.utils);this.listFields.keys=e.keys,this.listFields.regex=e.regex}async loadSettings(){this.settings=Object.assign({},xl,await this.loadData()),this.loadUtils(),this.prepareIgnoredFields(),this.prepareListFields(),this.updateDebouced()}async saveSettings(){await this.saveData(this.settings),this.loadUtils(),this.prepareIgnoredFields(),this.prepareListFields(),this.updateDebouced()}};

/* nosourcemap */