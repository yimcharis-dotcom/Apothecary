/* MAXIMUM COMPACT MODE
   Goal:
   - Edit mode: no spacing between lines (including blank lines), only small padding after headings
   - Reading view: tight blocks, only small padding after headings
   - Folding compatibility preserved
*/

:root{
    --ff-line: 1.2;
    --ff-hline: 1.5;
    --ff-hpad: 0.3em; /* heading bottom padding; tune 0.35emâ€“0.50em */
  }
  
  /* ============================================
     READING VIEW
     ============================================ */
  
  .markdown-preview-view{
    line-height: var(--ff-line) !important;
  }
  
  /* Everything tight: no margins anywhere */
  .markdown-preview-view :is(p,ul,ol,li,blockquote,pre,table,thead,tbody,tfoot,tr,td,th,hr,.callout,.markdown-embed){
    margin: 0 !important;
  }
  
  /* Only headings get a small gap after */
  .markdown-preview-view :is(ho0,h1,h2,h3,h4,h5,h6){
    line-height: var(--ff-hline) !important;
    margin: 0 !important;
    padding-bottom: var(--ff-hpad) !important;
  }
  
  /* Lists: keep compact and aligned */
  .markdown-preview-view :is(ul,ol){
    padding-left: 0 !important;
    list-style-position: inside !important;
  } 
  .markdown-preview-view :is(p){
    line-height: var(0.5em) !important;
    padding-left: 0 !important;
    list-style-position: inside !important;
    padding-bottom: var(--ff-hpad) !important

  }
  .markdown-preview-view li{
    padding-left: 0 !important;
    margin-left: 0 !important;
  
  .markdown-preview-view li{
    padding-left: 0 !important;
    margin-left: 0 !important;
  }
  
  /* Blockquotes: compact padding only */
  .markdown-preview-view blockquote{
    padding: 0.4em 0.50em !important;
  }
  
  /* Code blocks: compact, readable line height */
  .markdown-preview-view pre{
    padding: 0.em !important;
    line-height: 1.3 !important;
  }
  
  .markdown-preview-view code{
    padding: 0.2em 0.1em !important;
    line-height: var(--ff-line) !important;
  }
  
  /* Tables: compact cell padding */
  .markdown-preview-view :is(td,th){
    padding: 0.1em 0.em !important;
  }
  
  /* Callouts: compact padding */
  .markdown-preview-view .callout{
    padding: 0.25em !important;
  }
  
  .markdown-preview-view .callout-content{
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* IMPORTANT: do NOT include a global reset like
     .markdown-preview-view * { margin-block-*:0 }
     It can override the heading padding depending on order.
  */
  
  /* ============================================
     LIVE PREVIEW / EDIT VIEW (CM6)
     ============================================ */
  
  .markdown-source-view.mod-cm6 .cm-content,
  .markdown-source-view.mod-cm6 .cm-line{
    line-height: var(--ff-line) !important;
    margin: 0 !important;   /* avoid CM6 layout issues */
    padding: 0 !important;  /* no line spacing */
  }
  
  /* Headings: slightly tighter + small padding after heading line only */
  .markdown-source-view.mod-cm6 :is(
    .HyperMD-header-1,.HyperMD-header-2,.HyperMD-header-3,
    .HyperMD-header-4,.HyperMD-header-5,.HyperMD-header-6
  ){
    line-height: var(--ff-hline) !important;
  }
  
  .markdown-source-view.mod-cm6 .cm-line.HyperMD-header{
    padding-bottom: var(--ff-hpad) !important;
  }
  
  /* Blank lines: no added gap */
  .markdown-source-view.mod-cm6 .cm-line:has(> br:only-child){
    padding: 0 !important;
  }
  
  /* Lists: keep compact */
  .markdown-source-view.mod-cm6 .HyperMD-list-line{
    padding: 0 !important;
    margin: 0 !important;
    line-height: var(--ff-line) !important;
  }
  
  /* Code blocks: readable, but no extra spacing between lines */
  .markdown-source-view.mod-cm6 .HyperMD-codeblock{
    padding: 0 !important;
    margin: 0 !important;
    line-height: 1.4 !important;
  }
  
  /* Tables: keep compact (no extra spacing) */
  .markdown-source-view.mod-cm6 :is(.cm-hmd-table-sep,.HyperMD-table-row){
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* Horizontal rules: compact */
  .markdown-source-view.mod-cm6 .cm-line:has(.cm-hr){
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* ============================================
     FOLDING FIX - Preserve fold mechanics
     ============================================ */
  
  .markdown-source-view.mod-cm6 :is(.cm-foldPlaceholder,.cm-fold-indicator){
    padding: initial !important;
    margin: initial !important;
    line-height: initial !important;
  }
  
  .markdown-source-view.mod-cm6 .cm-gutterElement{
    padding: initial !important;
    margin: initial !important;
  }
  